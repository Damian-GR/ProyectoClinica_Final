"use strict";var noe=Object.defineProperty,roe=Object.defineProperties,ioe=Object.getOwnPropertyDescriptors,r2=Object.getOwnPropertySymbols,soe=Object.prototype.hasOwnProperty,ooe=Object.prototype.propertyIsEnumerable,i2=(se,dt,Kt)=>dt in se?noe(se,dt,{enumerable:!0,configurable:!0,writable:!0,value:Kt}):se[dt]=Kt,s2=(se,dt)=>{for(var Kt in dt||(dt={}))soe.call(dt,Kt)&&i2(se,Kt,dt[Kt]);if(r2)for(var Kt of r2(dt))ooe.call(dt,Kt)&&i2(se,Kt,dt[Kt]);return se},o2=(se,dt)=>roe(se,ioe(dt));(self.webpackChunkfirebase=self.webpackChunkfirebase||[]).push([[179],{460:()=>{function se(t){return"function"==typeof t}function dt(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Kt=dt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ro(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof Kt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{JC(s)}catch(o){e=null!=e?e:[],o instanceof Kt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JC(e);else{if(e instanceof wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ro(n,e)}remove(e){const{_finalizers:n}=this;n&&ro(n,e),e instanceof wn&&e._removeParent(this)}}wn.EMPTY=(()=>{const t=new wn;return t.closed=!0,t})();const QC=wn.EMPTY;function YC(t){return t instanceof wn||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function JC(t){se(t)?t():t.unsubscribe()}const zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ml={setTimeout(t,e,...n){const{delegate:r}=Ml;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ml;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function XC(t){Ml.setTimeout(()=>{const{onUnhandledError:e}=zi;if(!e)throw t;e(t)})}function ZC(){}const a2=Cp("C",void 0,void 0);function Cp(t,e,n){return{kind:t,value:e,error:n}}let Ki=null;function Nl(t){if(zi.useDeprecatedSynchronousErrorHandling){const e=!Ki;if(e&&(Ki={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ki;if(Ki=null,n)throw r}}else t()}class Tp extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,YC(e)&&e.add(this)):this.destination=p2}static create(e,n,r){return new Rl(e,n,r)}next(e){this.isStopped?Sp(function c2(t){return Cp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Sp(function u2(t){return Cp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sp(a2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const d2=Function.prototype.bind;function Ap(t,e){return d2.call(t,e)}class h2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){kl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){kl(r)}else kl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){kl(n)}}}class Rl extends Tp{constructor(e,n,r){let i;if(super(),se(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&zi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ap(e.next,s),error:e.error&&Ap(e.error,s),complete:e.complete&&Ap(e.complete,s)}):i=e}this.destination=new h2(i)}}function kl(t){zi.useDeprecatedSynchronousErrorHandling?function l2(t){zi.useDeprecatedSynchronousErrorHandling&&Ki&&(Ki.errorThrown=!0,Ki.error=t)}(t):XC(t)}function Sp(t,e){const{onStoppedNotification:n}=zi;n&&Ml.setTimeout(()=>n(t,e))}const p2={closed:!0,next:ZC,error:function f2(t){throw t},complete:ZC},xp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qi(t){return t}function eT(t){return 0===t.length?Qi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function y2(t){return t&&t instanceof Tp||function m2(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}(t)&&YC(t)}(n)?n:new Rl(n,r,i);return Nl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=tT(r))((i,s)=>{const o=new Rl({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[xp](){return this}pipe(...n){return eT(n)(this)}toPromise(n){return new(n=tT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function tT(t){var e;return null!==(e=null!=t?t:zi.Promise)&&void 0!==e?e:Promise}const _2=dt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Lr=(()=>{class t extends Se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new nT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _2}next(n){Nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Nl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?QC:(this.currentObservers=null,s.push(n),new wn(()=>{this.currentObservers=null,ro(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Se;return n.source=this,n}}return t.create=(e,n)=>new nT(e,n),t})();class nT extends Lr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:QC}}function rT(t){return se(null==t?void 0:t.lift)}function At(t){return e=>{if(rT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,e,n,r,i){return new v2(t,e,n,r,i)}class v2 extends Tp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(t,e){return At((n,r)=>{let i=0;n.subscribe(ht(r,s=>{r.next(t.call(e,s,i++))}))})}function sT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}function I2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Yi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function aT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const uT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function cT(t){return se(null==t?void 0:t.then)}function lT(t){return se(t[xp])}function dT(t){return Symbol.asyncIterator&&se(null==t?void 0:t[Symbol.asyncIterator])}function hT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fT=function C2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pT(t){return se(null==t?void 0:t[fT])}function gT(t){return I2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Yi(n.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{n.releaseLock()}})}function mT(t){return se(null==t?void 0:t.getReader)}function hr(t){if(t instanceof Se)return t;if(null!=t){if(lT(t))return function T2(t){return new Se(e=>{const n=t[xp]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(uT(t))return function A2(t){return new Se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(cT(t))return function S2(t){return new Se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,XC)})}(t);if(dT(t))return yT(t);if(pT(t))return function x2(t){return new Se(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(mT(t))return function M2(t){return yT(gT(t))}(t)}throw hT(t)}function yT(t){return new Se(e=>{(function N2(t,e){var n,r,i,s;return function w2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=b2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Vr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ft(t,e,n=1/0){return se(e)?ft((r,i)=>pe((s,o)=>e(r,s,i,o))(hr(t(r,i))),n):("number"==typeof e&&(n=e),At((r,i)=>function R2(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let _=!1;hr(n(m,l++)).subscribe(ht(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const E=u.shift();o?Vr(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Ka(t=1/0){return ft(Qi,t)}const Ur=new Se(t=>t.complete());function Np(t){return t[t.length-1]}function _T(t){return se(Np(t))?t.pop():void 0}function Qa(t){return function P2(t){return t&&se(t.schedule)}(Np(t))?t.pop():void 0}function Pl(t,e=0){return At((n,r)=>{n.subscribe(ht(r,i=>Vr(r,t,()=>r.next(i),e),()=>Vr(r,t,()=>r.complete(),e),i=>Vr(r,t,()=>r.error(i),e)))})}function Ol(t,e=0){return At((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Se(n=>{Vr(n,e,()=>{const r=t[Symbol.asyncIterator]();Vr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pt(t,e){return e?function j2(t,e){if(null!=t){if(lT(t))return function F2(t,e){return hr(t).pipe(Ol(e),Pl(e))}(t,e);if(uT(t))return function V2(t,e){return new Se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(cT(t))return function L2(t,e){return hr(t).pipe(Ol(e),Pl(e))}(t,e);if(dT(t))return vT(t,e);if(pT(t))return function U2(t,e){return new Se(n=>{let r;return Vr(n,e,()=>{r=t[fT](),Vr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>se(null==r?void 0:r.return)&&r.return()})}(t,e);if(mT(t))return function B2(t,e){return vT(gT(t),e)}(t,e)}throw hT(t)}(t,e):hr(t)}function Ya(t){return t<=0?()=>Ur:At((e,n)=>{let r=0;e.subscribe(ht(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Ya(1)).subscribe(()=>t())}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function kp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Pp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const G2=ve({__forward_ref__:ve});function Ee(t){return t.__forward_ref__=Ee,t.toString=function(){return me(this())},t}function K(t){return wT(t)?t():t}function wT(t){return"function"==typeof t&&t.hasOwnProperty(G2)&&t.__forward_ref__===Ee}class ae extends Error{constructor(e,n){super(function Op(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function q(t){return"string"==typeof t?t:null==t?"":String(t)}function Qt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():q(t)}function Fl(t,e){const n=e?` in ${e}`:"";throw new ae(-201,`No provider for ${Qt(t)} found${n}`)}function In(t,e){null==t&&function Ce(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fp(t){return ET(t,Ll)||ET(t,bT)}function ET(t,e){return t.hasOwnProperty(e)?t[e]:null}function IT(t){return t&&(t.hasOwnProperty(Lp)||t.hasOwnProperty(J2))?t[Lp]:null}const Ll=ve({\u0275prov:ve}),Lp=ve({\u0275inj:ve}),bT=ve({ngInjectableDef:ve}),J2=ve({ngInjectorDef:ve});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Vp;function fi(t){const e=Vp;return Vp=t,e}function DT(t,e,n){const r=Fp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void Fl(me(t),"Injector")}function pi(t){return{toString:t}.toString()}var zn=(()=>((zn=zn||{})[zn.OnPush=0]="OnPush",zn[zn.Default=1]="Default",zn))(),fr=(()=>{return(t=fr||(fr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",fr;var t})();const Z2="undefined"!=typeof globalThis&&globalThis,eB="undefined"!=typeof window&&window,tB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_e=Z2||"undefined"!=typeof global&&global||eB||tB,io={},we=[],Vl=ve({\u0275cmp:ve}),Up=ve({\u0275dir:ve}),Bp=ve({\u0275pipe:ve}),CT=ve({\u0275mod:ve}),jr=ve({\u0275fac:ve}),Ja=ve({__NG_ELEMENT_ID__:ve});let nB=0;function $r(t){return pi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===zn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||fr.Emulated,id:"c",styles:t.styles||we,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=nB++,r.inputs=xT(t.inputs,n),r.outputs=xT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(TT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(AT):null,r})}function TT(t){return Lt(t)||function gi(t){return t[Up]||null}(t)}function AT(t){return function Ji(t){return t[Bp]||null}(t)}const ST={};function dn(t){return pi(()=>{const e={type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ST[t.id]=t.type),e})}function xT(t,e){if(null==t)return io;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const B=$r;function Lt(t){return t[Vl]||null}function Rn(t,e){const n=t[CT]||null;if(!n&&!0===e)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return n}const Q=11;function pr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Qn(t){return Array.isArray(t)&&!0===t[1]}function Hp(t){return 0!=(8&t.flags)}function $l(t){return 2==(2&t.flags)}function Hl(t){return 1==(1&t.flags)}function Yn(t){return null!==t.template}function uB(t){return 0!=(512&t[2])}function ts(t,e){return t.hasOwnProperty(jr)?t[jr]:null}class dB{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pn(){return NT}function NT(t){return t.type.prototype.ngOnChanges&&(t.setInput=fB),hB}function hB(){const t=kT(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fB(t,e,n,r){const i=kT(t)||function pB(t,e){return t[RT]=e}(t,{previous:io,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new dB(u&&u.currentValue,e,o===io),t[r]=e}Pn.ngInherit=!0;const RT="__ngSimpleChanges__";function kT(t){return t[RT]||null}let Kp;function Oe(t){return!!t.listen}const PT={createRenderer:(t,e)=>function Qp(){return void 0!==Kp?Kp:"undefined"!=typeof document?document:void 0}()};function We(t){for(;Array.isArray(t);)t=t[0];return t}function Gl(t,e){return We(e[t])}function Fn(t,e){return We(e[t.index])}function Yp(t,e){return t.data[e]}function Dn(t,e){const n=e[t];return pr(n)?n:n[0]}function Jp(t){return 128==(128&t[2])}function mi(t,e){return null==e?null:t[e]}function FT(t){t[18]=0}function Xp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $={lFrame:qT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function LT(){return $.bindingsEnabled}function b(){return $.lFrame.lView}function ue(){return $.lFrame.tView}function nt(){let t=UT();for(;null!==t&&64===t.type;)t=t.parent;return t}function UT(){return $.lFrame.currentTNode}function gr(t,e){const n=$.lFrame;n.currentTNode=t,n.isParent=e}function Zp(){return $.lFrame.isParent}function ql(){return $.isInCheckNoChangesMode}function Wl(t){$.isInCheckNoChangesMode=t}function lo(){return $.lFrame.bindingIndex++}function NB(t,e){const n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,tg(e)}function tg(t){$.lFrame.currentDirectiveIndex=t}function rg(t){$.lFrame.currentQueryIndex=t}function kB(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function HT(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=kB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=$.lFrame=GT();return r.currentTNode=e,r.lView=t,!0}function zl(t){const e=GT(),n=t[1];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function GT(){const t=$.lFrame,e=null===t?null:t.child;return null===e?qT(t):e}function qT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function WT(){const t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zT=WT;function Kl(){const t=WT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xt(){return $.lFrame.selectedIndex}function yi(t){$.lFrame.selectedIndex=t}function Fe(){const t=$.lFrame;return Yp(t.tView,t.selectedIndex)}function Ql(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Yl(t,e,n){KT(t,e,3,n)}function Jl(t,e,n,r){(3&t[2])===n&&KT(t,e,n,r)}function ig(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function KT(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&($B(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function $B(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class nu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Xl(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];og(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function QT(t){return 3===t||4===t||6===t}function og(t){return 64===t.charCodeAt(0)}function Zl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||YT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function YT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function JT(t){return-1!==t}function ho(t){return 32767&t}function fo(t,e){let n=function zB(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let ag=!0;function ed(t){const e=ag;return ag=t,e}let KB=0;function iu(t,e){const n=cg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ug(r.data,t),ug(e,null),ug(r.blueprint,null));const i=td(t,e),s=t.injectorIndex;if(JT(i)){const o=ho(i),a=fo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function ug(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function td(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function nd(t,e,n){!function QB(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ja)&&(r=n[Ja]),null==r&&(r=n[Ja]=KB++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function e0(t,e,n){if(n&H.Optional)return t;Fl(e,"NodeInjector")}function t0(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){const i=t[9],s=fi(void 0);try{return i?i.get(e,r,n&H.Optional):DT(e,r,n&H.Optional)}finally{fi(s)}}return e0(r,e,n)}function n0(t,e,n,r=H.Default,i){if(null!==t){const s=function ZB(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ja)?t[Ja]:void 0;return"number"==typeof e?e>=0?255&e:JB:e}(n);if("function"==typeof s){if(!HT(e,t,r))return r&H.Host?e0(i,n,r):t0(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;Fl(n)}finally{zT()}}else if("number"==typeof s){let o=null,a=cg(t,e),u=-1,c=r&H.Host?e[16][6]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?td(t,e):e[a+8],-1!==u&&o0(r,!1)?(o=e[1],a=ho(u),e=fo(u,e)):a=-1);-1!==a;){const l=e[1];if(s0(s,a,l.data)){const d=XB(a,e,n,o,r,c);if(d!==r0)return d}u=e[a+8],-1!==u&&o0(r,e[1].data[a+8]===c)&&s0(s,a,e)?(o=l,a=ho(u),e=fo(u,e)):a=-1}}}return t0(e,n,r,i)}const r0={};function JB(){return new po(nt(),b())}function XB(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function rd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Yn(f)&&f.type===n)return u}return null}(a,o,n,null==r?$l(a)&&ag:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?su(e,o,l,a):r0}function su(t,e,n,r){let i=t[n];const s=e.data;if(function HB(t){return t instanceof nu}(i)){const o=i;o.resolving&&function q2(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ae(-200,`Circular dependency in DI detected for ${t}${n}`)}(Qt(s[n]));const a=ed(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?fi(o.injectImpl):null;HT(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function jB(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=NT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&fi(u),ed(a),o.resolving=!1,zT()}}return i}function s0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function o0(t,e){return!(t&H.Self||t&H.Host&&e)}class po{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return n0(this._tNode,this._lView,e,r,n)}}function lg(t){return wT(t)?()=>{const e=lg(K(t));return e&&e()}:ts(t)}function ou(t){return function YB(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(QT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(nt(),t)}const mo="__parameters__";function _o(t,e,n){return pi(()=>{const r=function dg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(mo)?u[mo]:Object.defineProperty(u,mo,{value:[]})[mo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Y{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const tj=new Y("AnalyzeForEntryComponents");function mr(t,e){t.forEach(n=>Array.isArray(n)?mr(n,e):e(n))}function u0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function id(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cn(t,e,n){let r=vo(t,e);return r>=0?t[1|r]=n:(r=~r,function ij(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fg(t,e){const n=vo(t,e);if(n>=0)return t[1|n]}function vo(t,e){return function d0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const lu={},gg="__NG_DI_FLAG__",od="ngTempTokenPath",dj=/\n/gm,f0="__source",fj=ve({provide:String,useValue:ve});let du;function p0(t){const e=du;return du=t,e}function pj(t,e=H.Default){if(void 0===du)throw new ae(203,"");return null===du?DT(t,void 0,e):du.get(t,e&H.Optional?null:void 0,e)}function F(t,e=H.Default){return(function X2(){return Vp}()||pj)(K(t),e)}const gj=F;function mg(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ae(900,"");let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=mj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function hu(t,e){return t[gg]=e,t.prototype[gg]=e,t}function mj(t){return t[gg]}const ad=hu(_o("Inject",t=>({token:t})),-1),it=hu(_o("Optional"),8),fu=hu(_o("SkipSelf"),4);class b0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function vi(t){return t instanceof b0?t.changingThisBreaksApplicationSecurity:t}const Vj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Uj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ze=(()=>((ze=ze||{})[ze.NONE=0]="NONE",ze[ze.HTML=1]="HTML",ze[ze.STYLE=2]="STYLE",ze[ze.SCRIPT=3]="SCRIPT",ze[ze.URL=4]="URL",ze[ze.RESOURCE_URL=5]="RESOURCE_URL",ze))();function Dg(t){const e=function yu(){const t=b();return t&&t[12]}();return e?e.sanitize(ze.URL,t)||"":function gu(t,e){const n=function Pj(t){return t instanceof b0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?vi(t):function dd(t){return(t=String(t)).match(Vj)||t.match(Uj)?t:"unsafe:"+t}(q(t))}const k0="__ngContext__";function Bt(t,e){t[k0]=e}function Tg(t){const e=function _u(t){return t[k0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Sg(t){return t.ngOriginalError}function u$(t,...e){t.error(...e)}class vu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function a$(t){return t&&t.ngErrorLogger||u$}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sg(e);for(;n&&Sg(n);)n=Sg(n);return n||null}}const _$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_e))();function _r(t){return t instanceof Function?t():t}var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();function Mg(t,e){return undefined(t,e)}function wu(t){const e=t[3];return Qn(e)?e[3]:e}function Ng(t){return $0(t[13])}function Rg(t){return $0(t[4])}function $0(t){for(;null!==t&&!Qn(t);)t=t[4];return t}function bo(t,e,n,r,i){if(null!=r){let s,o=!1;Qn(r)?s=r:pr(r)&&(o=!0,r=r[0]);const a=We(r);0===t&&null!==n?null==i?K0(e,n,a):ns(e,n,a,i||null,!0):1===t&&null!==n?ns(e,n,a,i||null,!0):2===t?function tA(t,e,n){const r=fd(t,e);r&&function R$(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function O$(t,e,n,r,i){const s=n[7];s!==We(n)&&bo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Eu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Pg(t,e,n){if(Oe(t))return t.createElement(e,n);{const r=null!==n?function _B(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function G0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xp(i,-1)),n.splice(r,1)}function Og(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&G0(i,r),e>0&&(t[n-1][4]=r[4]);const s=id(t,10+e);!function D$(t,e){Eu(t,e,e[Q],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function q0(t,e){if(!(256&e[2])){const n=e[Q];Oe(n)&&n.destroyNode&&Eu(t,e,n,3,null,null),function A$(t){let e=t[13];if(!e)return Fg(t[1],t);for(;e;){let n=null;if(pr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)pr(e)&&Fg(e[1],e),e=e[3];null===e&&(e=t),pr(e)&&Fg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function N$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof nu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function M$(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):We(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Oe(e[Q])&&e[Q].destroy();const n=e[17];if(null!==n&&Qn(e[3])){n!==e[3]&&G0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function W0(t,e,n){return function z0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===fr.None||i===fr.Emulated)return null}return Fn(r,n)}(t,e.parent,n)}function ns(t,e,n,r,i){Oe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function K0(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function Q0(t,e,n,r,i){null!==r?ns(t,e,n,r,i):K0(t,e,n)}function fd(t,e){return Oe(t)?t.parentNode(e):e.parentNode}let X0=function J0(t,e,n){return 40&t.type?Fn(t,n):null};function pd(t,e,n,r){const i=W0(t,r,e),s=e[Q],a=function Y0(t,e,n){return X0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Q0(s,i,n[u],a,!1);else Q0(s,i,n,a,!1)}function gd(t,e){if(null!==e){const n=e.type;if(3&n)return Fn(e,t);if(4&n)return Vg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return gd(t,r);{const i=t[e.index];return Qn(i)?Vg(-1,i):We(i)}}if(32&n)return Mg(e,t)()||We(t[e.index]);{const r=eA(t,e);return null!==r?Array.isArray(r)?r[0]:gd(wu(t[16]),r):gd(t,e.next)}}return null}function eA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Vg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return gd(r,i)}return e[7]}function Ug(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bt(We(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ug(t,e,n.child,r,i,s,!1),bo(e,t,i,a,s);else if(32&u){const c=Mg(n,r);let l;for(;l=c();)bo(e,t,i,l,s);bo(e,t,i,a,s)}else 16&u?nA(t,e,r,n,i,s):bo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Eu(t,e,n,r,i,s){Ug(n,r,t.firstChild,e,i,s,!1)}function nA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)bo(e,t,i,u[c],s);else Ug(t,e,u,o[3],i,s,!0)}function rA(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Bg(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function iA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const sA="ng-template";function L$(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==iA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oA(t){return 4===t.type&&t.value!==sA}function V$(t,e,n){return e===(4!==t.type||n?t.value:sA)}function U$(t,e,n){let r=4;const i=t.attrs||[],s=function $$(t){for(let e=0;e<t.length;e++)if(QT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!V$(t,u,n)||""===u&&1===e.length){if(Jn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!L$(t.attrs,c,n)){if(Jn(r))return!1;o=!0}continue}const d=B$(8&r?"class":u,i,oA(t),n);if(-1===d){if(Jn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==iA(f,c,0)||2&r&&c!==h){if(Jn(r))return!1;o=!0}}}}else{if(!o&&!Jn(r)&&!Jn(u))return!1;if(o&&Jn(u))continue;o=!1,r=u|1&r}}return Jn(r)||o}function Jn(t){return 0==(1&t)}function B$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function H$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function aA(t,e,n=!1){for(let r=0;r<e.length;r++)if(U$(t,e[r],n))return!0;return!1}function uA(t,e){return t?":not("+e.trim()+")":e}function q$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Jn(o)&&(e+=uA(s,i),i=""),r=o,s=s||!Jn(r);n++}return""!==i&&(e+=uA(s,i)),e}const W={};function vr(t){cA(ue(),b(),Xt()+t,ql())}function cA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Yl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Jl(e,s,0,n)}yi(n)}function md(t,e){return t<<17|e<<2}function Xn(t){return t>>17&32767}function jg(t){return 2|t}function qr(t){return(131068&t)>>2}function $g(t,e){return-131069&t|e<<2}function Hg(t){return 1|t}function wA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];rg(i),o.contentQueries(2,e[s],s)}}}function Iu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,FT(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[Q]=a||t&&t[Q],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Do(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Xg(t,e,n,r,i){const s=UT(),o=Zp(),u=t.data[e]=function cH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function MB(){return $.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function tu(){const t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gr(s,!0),s}function Co(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bu(t,e,n){zl(e);try{const r=t.viewQuery;null!==r&&am(1,r,n);const i=t.template;null!==i&&EA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wA(t,e),t.staticViewQueries&&am(2,t.viewQuery,n);const s=t.components;null!==s&&function oH(t,e){for(let n=0;n<e.length;n++)AH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Kl()}}function To(t,e,n,r){const i=e[2];if(256==(256&i))return;zl(e);const s=ql();try{FT(e),function BT(t){return $.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&EA(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&Yl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Jl(e,c,0,null),ig(e,0)}if(function CH(t){for(let e=Ng(t);null!==e;e=Rg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Xp(s,1),i[2]|=1024}}}(e),function DH(t){for(let e=Ng(t);null!==e;e=Rg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Jp(r)&&To(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&wA(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&Yl(e,c)}else{const c=t.contentHooks;null!==c&&Jl(e,c,1),ig(e,1)}!function iH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)yi(~i);else{const s=i,o=n[++r],a=n[++r];NB(o,s),a(2,e[s])}}}finally{yi(-1)}}(t,e);const a=t.components;null!==a&&function sH(t,e){for(let n=0;n<e.length;n++)TH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&am(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&Yl(e,c)}else{const c=t.viewHooks;null!==c&&Jl(e,c,2),ig(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xp(e[3],-1))}finally{Kl()}}function aH(t,e,n,r){const i=e[10],s=!ql(),o=function OT(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&bu(t,e,r),To(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function EA(t,e,n,r,i){const s=Xt(),o=2&r;try{yi(-1),o&&e.length>20&&cA(t,e,20,ql()),n(r,i)}finally{yi(s)}}function Zg(t,e,n){!LT()||(function mH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||iu(n,e),Bt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Yn(u);c&&EH(e,n,u);const l=su(e,t,a,n);Bt(l,e),null!==o&&IH(0,a-i,l,u,0,o),c&&(Dn(n.index,e)[8]=l)}}(t,e,n,Fn(n,e)),128==(128&n.flags)&&function yH(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function RB(){return $.lFrame.currentDirectiveIndex}();try{yi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];tg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&MA(c,l)}}finally{yi(-1),tg(a)}}(t,e,n))}function em(t,e,n=Fn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function bA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function vd(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function uH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function AA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function tm(t,e,n,r){let i=!1;if(LT()){const s=function _H(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];aA(n,o.selectors,!1)&&(i||(i=[]),nd(iu(n,e),t,o.type),Yn(o)?(NA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,RA(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Co(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=Zl(n.mergedAttrs,d.hostAttrs),kA(t,n,e,c,d),wH(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function lH(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||oA(e)?null:bH(d,s);o.push(h),a=AA(d,c,a),u=AA(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function vH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ae(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Zl(n.mergedAttrs,n.attrs),i}function xA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function gH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function MA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function NA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function wH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yn(e)&&(n[""]=t)}}function RA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ts(i.type)),o=new nu(s,Yn(i),null);t.blueprint[r]=o,n[r]=o,xA(t,e,0,r,Co(t,n,i.hostVars,W),i)}function EH(t,e,n){const r=Fn(e,t),i=bA(n),s=t[10],o=wd(t,Iu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function wr(t,e,n,r,i,s){const o=Fn(t,e);!function nm(t,e,n,r,i,s,o){if(null==s)Oe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?q(s):o(s,r||"",i);Oe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Q],o,s,t.value,n,r,i)}function IH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function bH(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function PA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function TH(t,e){const n=Dn(e,t);if(Jp(n)){const r=n[1];80&n[2]?To(r,n,r.template,n[8]):n[5]>0&&rm(n)}}function rm(t){for(let r=Ng(t);null!==r;r=Rg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];To(o,s,o.template,s[8])}else s[5]>0&&rm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Dn(n[r],t);Jp(i)&&i[5]>0&&rm(i)}}function AH(t,e){const n=Dn(e,t),r=n[1];(function SH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),bu(r,n,n[8])}function wd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function im(t){for(;t;){t[2]|=64;const e=wu(t);if(uB(t)&&!e)return t;t=e}return null}function om(t,e,n){const r=e[10];r.begin&&r.begin();try{To(t,e,t.template,n)}catch(i){throw UA(e,i),i}finally{r.end&&r.end()}}function OA(t){!function sm(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Tg(n),i=r[1];aH(i,r,i.template,n)}}(t[8])}function am(t,e,n){rg(0),e(t,n)}const RH=(()=>Promise.resolve(null))();function FA(t){return t[7]||(t[7]=[])}function LA(t){return t.cleanup||(t.cleanup=[])}function UA(t,e){const n=t[9],r=n?n.get(vu,null):null;r&&r.handleError(e)}function BA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Wr(t,e,n){const r=Gl(e,t);!function H0(t,e,n){Oe(t)?t.setValue(e,n):e.textContent=n}(t[Q],r,n)}function Ed(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Pp(i,a):2==s&&(r=Pp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const um=new Y("INJECTOR",-1);class jA{get(e,n=lu){if(n===lu){const r=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw r.name="NullInjectorError",r}return n}}const cm=new Y("Set Injector scope."),Du={},OH={};let lm;function $A(){return void 0===lm&&(lm=new jA),lm}function HA(t,e=null,n=null,r){const i=GA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function GA(t,e=null,n=null,r){return new FH(t,n,e||$A(),r)}class FH{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&mr(n,a=>this.processProvider(a,e,n)),mr([e],a=>this.processInjectorType(a,[],s)),this.records.set(um,Ao(void 0,this));const o=this.records.get(cm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:me(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=lu,r=H.Default){this.assertNotDestroyed();const i=p0(this),s=fi(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function GH(t){return"function"==typeof t||"object"==typeof t&&t instanceof Y}(e)&&Fp(e);a=u&&this.injectableDefInScope(u)?Ao(dm(e),Du):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?$A():this.parent).get(e,n=r&H.Optional&&n===lu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[od]=o[od]||[]).unshift(me(e)),i)throw o;return function yj(t,e,n,r){const i=t[od];throw e[f0]&&i.unshift(e[f0]),t.message=function _j(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=me(e);if(Array.isArray(e))i=e.map(me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):me(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[od]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{fi(s),p0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(me(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processInjectorType(e,n,r){if(!(e=K(e)))return!1;let i=IT(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=IT(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{mr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];mr(f,p=>this.processProvider(p,h,f||we))}}this.injectorDefTypes.add(o);const u=ts(o)||(()=>new o);this.records.set(o,Ao(u,Du));const c=i.providers;if(null!=c&&!a){const l=e;mr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=So(e=K(e))?e:K(e&&e.provide);const s=function VH(t,e,n){return WA(t)?Ao(void 0,t.useValue):Ao(qA(t),Du)}(e);if(So(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Ao(void 0,Du,!0),o.factory=()=>mg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Du&&(n.value=OH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function HH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=K(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function dm(t){const e=Fp(t),n=null!==e?e.factory:ts(t);if(null!==n)return n;if(t instanceof Y)throw new ae(204,!1);if(t instanceof Function)return function LH(t){const e=t.length;if(e>0)throw function cu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ae(204,!1);const n=function Q2(t){const e=t&&(t[Ll]||t[bT]);if(e){const n=function Y2(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ae(204,!1)}function qA(t,e,n){let r;if(So(t)){const i=K(t);return ts(i)||dm(i)}if(WA(t))r=()=>K(t.useValue);else if(function BH(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...mg(t.deps||[]));else if(function UH(t){return!(!t||!t.useExisting)}(t))r=()=>F(K(t.useExisting));else{const i=K(t&&(t.useClass||t.provide));if(!function $H(t){return!!t.deps}(t))return ts(i)||dm(i);r=()=>new i(...mg(t.deps))}return r}function Ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WA(t){return null!==t&&"object"==typeof t&&fj in t}function So(t){return"function"==typeof t}let mt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return HA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return HA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=lu,t.NULL=new jA,t.\u0275prov=ee({token:t,providedIn:"any",factory:()=>F(um)}),t.__NG_ELEMENT_ID__=-1,t})();function XH(t,e){Ql(Tg(t)[1],nt())}function ye(t){let e=function iS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=pm(t.inputs),o.declaredInputs=pm(t.declaredInputs),o.outputs=pm(t.outputs);const a=i.hostBindings;a&&nG(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&eG(t,u),c&&tG(t,c),kp(t.inputs,i.inputs),kp(t.declaredInputs,i.declaredInputs),kp(t.outputs,i.outputs),Yn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function ZH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zl(i.hostAttrs,n=Zl(n,i.hostAttrs))}}(r)}function pm(t){return t===io?{}:t===we?[]:t}function eG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function tG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function nG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Id=null;function xo(){if(!Id){const t=_e.Symbol;if(t&&t.iterator)Id=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Id=r)}}}return Id}function Cu(t){return!!gm(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function gm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ir(t,e,n,r){const i=b();return jt(i,lo(),e)&&(ue(),wr(Fe(),i,t,e,n,r)),Ir}function I(t,e=H.Default){const n=b();return null===n?F(t,e):n0(nt(),n,K(t),e)}function wm(){throw new Error("invalid")}function is(t,e,n){const r=b();return jt(r,lo(),e)&&function An(t,e,n,r,i,s,o,a){const u=Fn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(BA(t,n,l,r,i),$l(e)&&function hH(t,e){const n=Dn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function dH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Oe(s)?s.setProperty(u,r,i):og(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(ue(),Fe(),r,t,e,r[Q],n,!1),is}function Em(t,e,n,r,i){const o=i?"class":"style";BA(t,n,e.inputs[o],o,r)}function fe(t,e,n,r){const i=b(),s=ue(),o=20+t,a=i[Q],u=i[o]=Pg(a,e,function BB(){return $.lFrame.currentNamespace}()),c=s.firstCreatePass?function NG(t,e,n,r,i,s,o){const a=e.consts,c=Do(e,t,2,i,mi(a,s));return tm(e,n,c,mi(a,o)),null!==c.attrs&&Ed(c,c.attrs,!1),null!==c.mergedAttrs&&Ed(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];gr(c,!0);const l=c.mergedAttrs;null!==l&&Xl(a,u,l);const d=c.classes;null!==d&&Bg(a,u,d);const h=c.styles;return null!==h&&rA(a,u,h),64!=(64&c.flags)&&pd(s,i,u,c),0===function DB(){return $.lFrame.elementDepthCount}()&&Bt(u,i),function CB(){$.lFrame.elementDepthCount++}(),Hl(c)&&(Zg(s,i,c),function IA(t,e,n){if(Hp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&em(i,c),fe}function J(){let t=nt();Zp()?function eg(){$.lFrame.isParent=!1}():(t=t.parent,gr(t,!1));const e=t;!function TB(){$.lFrame.elementDepthCount--}();const n=ue();return n.firstCreatePass&&(Ql(n,t),Hp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function qB(t){return 0!=(16&t.flags)}(e)&&Em(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function WB(t){return 0!=(32&t.flags)}(e)&&Em(n,e,b(),e.stylesWithoutHost,!1),J}function Ke(t,e,n,r){return fe(t,e,n,r),J(),Ke}function Au(t){return!!t&&"function"==typeof t.then}const Dm=function AS(t){return!!t&&"function"==typeof t.subscribe};function yt(t,e,n,r){const i=b(),s=ue(),o=nt();return function xS(t,e,n,r,i,s,o,a){const u=Hl(r),l=t.firstCreatePass&&LA(t),d=e[8],h=FA(e);let f=!0;if(3&r.type||a){const _=Fn(r,e),E=a?a(_):_,y=h.length,T=a?P=>a(We(P[r.index])):r.index;if(Oe(n)){let P=null;if(!a&&u&&(P=function kG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=Cm(r,e,d,s,!1);const O=n.listen(E,i,s);h.push(s,O),l&&l.push(i,T,y,y+1)}}else s=Cm(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),l&&l.push(i,T,y,o)}else s=Cm(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let E=0;E<_;E+=2){const te=e[m[E]][m[E+1]].subscribe(s),Ae=h.length;h.push(s,te),l&&l.push(i,r.index,Ae,-(Ae+1))}}}(s,i,i[Q],o,t,e,!!n,r),yt}function MS(t,e,n,r){try{return!1!==n(r)}catch(i){return UA(t,i),!1}}function Cm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Dn(t.index,e):e;0==(32&e[2])&&im(a);let u=MS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=MS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function NS(t=1){return function PB(t){return($.lFrame.contextLView=function OB(t,e){for(;t>0;)e=e[15],t--;return e}(t,$.lFrame.contextLView))[8]}(t)}function jS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Xn(s):qr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];UG(t[a],e)&&(u=!0,t[a+1]=r?Hg(l):jg(l)),a=r?Xn(l):qr(l)}u&&(t[n+1]=r?jg(s):Hg(s))}function UG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vo(t,e)>=0}function Cd(t,e){return function er(t,e,n,r){const i=b(),s=ue(),o=function Gr(t){const e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function YS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Xt()],o=function QS(t,e){return e>=t.expandoStartIndex}(t,n);(function ex(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function KG(t,e,n,r){const i=function ng(t){const e=$.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Su(n=Am(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Am(i,t,e,n,r),null===s){let u=function QG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==qr(r))return t[Xn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Am(null,t,e,u[1],r),u=Su(u,e.attrs,r),function YG(t,e,n,r){t[Xn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function JG(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Su(r,t[s].hostAttrs,n);return Su(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function LG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xn(o),u=qr(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||vo(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Xn(t[a+1]);t[r+1]=md(h,a),0!==h&&(t[h+1]=$g(t[h+1],r)),t[a+1]=function K$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=md(a,0),0!==a&&(t[a+1]=$g(t[a+1],r)),a=r;else t[r+1]=md(u,0),0===a?a=r:t[u+1]=$g(t[u+1],r),u=r;c&&(t[r+1]=jg(t[r+1])),jS(t,l,r,!0),jS(t,l,r,!1),function VG(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&vo(s,e)>=0&&(n[r+1]=Hg(n[r+1]))}(e,l,t,r,s),o=md(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==W&&jt(i,o,e)&&function XS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Td(function hA(t){return 1==(1&t)}(c)?ZS(u,e,n,i,qr(c),o):void 0)||(Td(s)||function dA(t){return 2==(2&t)}(c)&&(s=ZS(u,null,n,i,a,o)),function F$(t,e,n,r,i){const s=Oe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Tn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Tn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Gl(Xt(),n),i,s))}(s,s.data[Xt()],i,i[Q],t,i[o+1]=function eq(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=me(vi(t)))),t}(e,n),r,o)}(t,e,null,!0),Cd}function Am(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Su(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Su(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Cn(t,o,!!n||e[++s]))}return void 0===t?null:t}function ZS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===W&&(h=d?we:void 0);let f=d?fg(h,r):l===r?h:void 0;if(c&&!Td(f)&&(f=fg(u,r)),Td(f)&&(a=f,o))return a;const p=t[i+1];i=o?Xn(p):qr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=fg(u,r))}return a}function Td(t){return void 0!==t}function ke(t,e=""){const n=b(),r=ue(),i=t+20,s=r.firstCreatePass?Do(r,i,1,e,null):r.data[i],o=n[i]=function kg(t,e){return Oe(t)?t.createText(e):t.createTextNode(e)}(n[Q],e);pd(r,n,o,s),gr(s,!1)}function ss(t){return Sm("",t,""),ss}function Sm(t,e,n){const r=b(),i=function No(t,e,n,r){return jt(t,lo(),n)?e+q(n)+r:W}(r,t,e,n);return i!==W&&Wr(r,Xt(),i),Sm}const Ad="en-US";let Ix=Ad;function Nm(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let s=0;s<t.length;s++)Nm(t[s],e,n,r,i);else{const s=ue(),o=b();let a=So(t)?t:K(t.provide),u=qA(t);const c=nt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(So(t)||!t.multi){const f=new nu(u,i,I),p=km(a,e,i?l:l+h,d);-1===p?(nd(iu(c,o),s,a),Rm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=km(a,e,l+h,d),p=km(a,e,l,l+h),m=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!m){nd(iu(c,o),s,a);const E=function vW(t,e,n,r,i){const s=new nu(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,Wx(s,i,r&&!n),s}(i?_W:yW,n.length,i,r,u);!i&&_&&(n[p].providerFactory=E),Rm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),o.push(E)}else Rm(s,t,f>-1?f:p,Wx(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function Rm(t,e,n,r){const i=So(e),s=function jH(t){return!!t.useClass}(e);if(i||s){const u=(s?K(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Wx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function km(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function yW(t,e,n,r){return Pm(this.multi,[])}function _W(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=su(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Pm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Pm(i,s);return s}function Pm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Me(t,e=[]){return n=>{n.providersResolver=(r,i)=>function mW(t,e,n){const r=ue();if(r.firstCreatePass){const i=Yn(t);Nm(n,r.data,r.blueprint,i,!0),Nm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class zx{}class IW{resolveComponentFactory(e){throw function EW(t){const e=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let ku=(()=>{class t{}return t.NULL=new IW,t})();function bW(){return Ho(nt(),b())}function Ho(t,e){return new Sn(Fn(t,e))}let Sn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=bW,t})();class Qx{}let zr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function TW(){const t=b(),n=Dn(nt().index,t);return function CW(t){return t[Q]}(pr(n)?n:t)}(),t})(),AW=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>null}),t})();class Go{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Yx=new Go("13.2.7"),Om={};function Rd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(We(s)),Qn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Rd(u[1],u,c,r)}const o=n.type;if(8&o)Rd(t,e,n.child,r);else if(32&o){const a=Mg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=eA(e,n);if(Array.isArray(a))r.push(...a);else{const u=wu(e[16]);Rd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Pu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Rd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Qn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Og(e,r),id(n,r))}this._attachedToViewContainer=!1}q0(this._lView[1],this._lView)}onDestroy(e){!function TA(t,e,n,r){const i=FA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&LA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){im(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){om(this._lView[1],this._lView,this.context)}checkNoChanges(){!function MH(t,e,n){Wl(!0);try{om(t,e,n)}finally{Wl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function T$(t,e){Eu(t,e,e[Q],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,"");this._appRef=e}}class SW extends Pu{constructor(e){super(e),this._view=e}detectChanges(){OA(this._view)}checkNoChanges(){!function NH(t){Wl(!0);try{OA(t)}finally{Wl(!1)}}(this._view)}get context(){return null}}class Jx extends ku{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Lt(e);return new Fm(n,this.ngModule)}}function Xx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Fm extends zx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function W$(t){return t.map(q$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Xx(this.componentDef.inputs)}get outputs(){return Xx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function MW(t,e){return{get:(n,r,i)=>{const s=t.get(n,Om,i);return s!==Om||r===Om?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Qx,PT),a=s.get(AW,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function CA(t,e,n){if(Oe(t))return t.selectRootElement(e,n===fr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Pg(o.createRenderer(null,this.componentDef),c,function xW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function rS(t,e){return{components:[],scheduler:t||_$,clean:RH,playerHandler:e||null,flags:0}}(),f=vd(0,null,null,1,0,null,null,null,null,null),p=Iu(null,f,h,d,null,null,o,u,a,s);let m,_;zl(p);try{const E=function tS(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Do(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Ed(u,c,!0),null!==t&&(Xl(i,t,c),null!==u.classes&&Bg(i,t,u.classes),null!==u.styles&&rA(i,t,u.styles)));const l=r.createRenderer(t,e),d=Iu(n,bA(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(nd(iu(u,n),o,e.type),NA(o,u),RA(u,n.length,1)),wd(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Xl(u,l,["ng-version",Yx.full]);else{const{attrs:y,classes:T}=function z$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Jn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Xl(u,l,y),T&&T.length>0&&Bg(u,l,T.join(" "))}if(_=Yp(f,20),void 0!==n){const y=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=n[T];y.push(null!=P?Array.from(P):null)}}m=function nS(t,e,n,r,i){const s=n[1],o=function pH(t,e,n){const r=nt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),kA(t,r,e,Co(t,e,1,null),n));const i=su(e,t,r.directiveStart,r);Bt(i,e);const s=Fn(r,e);return s&&Bt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=nt();e.contentQueries(1,o,u.directiveStart)}const a=nt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(yi(a.index),xA(n[1],a,0,a.directiveStart,a.directiveEnd,e),MA(e,o)),o}(E,this.componentDef,p,h,[XH]),bu(f,p,null)}finally{Kl()}return new RW(this.componentType,m,Ho(_,p),p,_)}}class RW extends class wW{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new SW(i),this.componentType=e}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Kr{}class Zx{}const qo=new Map;class nM extends Kr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jx(this);const r=Rn(e);this._bootstrapComponents=_r(r.bootstrap),this._r3Injector=GA(e,n,[{provide:Kr,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],me(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=mt.THROW_IF_NOT_FOUND,r=H.Default){return e===mt||e===Kr||e===um?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Lm extends Zx{constructor(e){super(),this.moduleType=e,null!==Rn(e)&&function PW(t){const e=new Set;!function n(r){const i=Rn(r,!0),s=i.id;null!==s&&(function eM(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${me(e)} vs ${me(e.name)}`)}(s,qo.get(s),r),qo.set(s,r));const o=_r(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new nM(this.moduleType,e)}}function rM(t,e,n,r){return function iM(t,e,n,r,i,s){const o=e+n;return jt(t,o,i)?function Er(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Ou(t,e){const n=t[e];return n===W?void 0:n}(t,o+1)}(b(),function Jt(){const t=$.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function Vm(t){return e=>{setTimeout(t,void 0,e)}}const Ve=class JW extends Lr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Vm(u),a&&(a=Vm(a)),c&&(c=Vm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof wn&&e.add(l),l}};Symbol;let Qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=tz,t})();const ZW=Qr,ez=class extends ZW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Iu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),bu(n,r,e),new Pu(r)}};function tz(){return function kd(t,e){return 4&t.type?new ez(e,t,Ho(t,e)):null}(nt(),b())}let nr=(()=>{class t{}return t.__NG_ELEMENT_ID__=nz,t})();function nz(){return function dM(t,e){let n;const r=e[t.index];if(Qn(r))n=r;else{let i;if(8&t.type)i=We(r);else{const s=e[Q];i=s.createComment("");const o=Fn(t,e);ns(s,fd(s,o),i,function k$(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=PA(r,e,i,t),wd(e,n)}return new cM(n,t,e)}(nt(),b())}const rz=nr,cM=class extends rz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const e=td(this._hostTNode,this._hostLView);if(JT(e)){const n=fo(e,this._hostLView),r=ho(e);return new po(n[1].data[r+8],n)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=lM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function uu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Fm(Lt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Kr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function bB(t){return Qn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new cM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function S$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],u0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function x$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Vg(s,o),u=r[Q],c=fd(u,o[7]);return null!==c&&function C$(t,e,n,r,i,s){r[0]=i,r[6]=e,Eu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),u0(Bm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=lM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Og(this._lContainer,n);r&&(id(Bm(this._lContainer),n),q0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Og(this._lContainer,n);return r&&null!=id(Bm(this._lContainer),n)?new Pu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function lM(t){return t[8]}function Bm(t){return t[8]||(t[8]=[])}function Fd(...t){}const ey=new Y("Application Initializer");let ty=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Fd,this.reject=Fd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Au(s))n.push(s);else if(Dm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(ey,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vu=new Y("AppId",{providedIn:"root",factory:function kM(){return`${ny()}${ny()}${ny()}`}});function ny(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PM=new Y("Platform Initializer"),Uu=new Y("Platform ID"),OM=new Y("appBootstrapListener");let FM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Ii=new Y("LocaleId",{providedIn:"root",factory:()=>gj(Ii,H.Optional|H.SkipSelf)||function Mz(){return"undefined"!=typeof $localize&&$localize.locale||Ad}()});class Rz{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let LM=(()=>{class t{compileModuleSync(n){return new Lm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=_r(Rn(n).declarations).reduce((o,a)=>{const u=Lt(a);return u&&o.push(new Fm(u)),o},[]);return new Rz(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pz=(()=>Promise.resolve(0))();function ry(t){"undefined"==typeof Zone?Pz.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class $e{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Oz(){let t=_e.requestAnimationFrame,e=_e.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Vz(t){const e=()=>{!function Lz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sy(t),t.isCheckStableRunning=!0,iy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return VM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),UM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return VM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),UM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,sy(t),iy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Fz,Fd,Fd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Fz={};function iy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function VM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UM(t){t._nesting--,iy(t)}class Uz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let oy=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),ry(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ry(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F($e))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),BM=(()=>{class t{constructor(){this._applications=new Map,ay.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ay.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class Bz{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let rr,ay=new Bz;const jM=new Y("AllowMultipleToken");class $M{constructor(e,n){this.name=e,this.token=n}}function HM(t,e,n=[]){const r=`Platform: ${e}`,i=new Y(r);return(s=[])=>{let o=GM();if(!o||o.injector.get(jM,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:cm,useValue:"platform"});!function Gz(t){if(rr&&!rr.destroyed&&!rr.injector.get(jM,!1))throw new ae(400,"");rr=t.get(qM);const e=t.get(PM,null);e&&e.forEach(n=>n())}(mt.create({providers:a,name:r}))}return function qz(t){const e=GM();if(!e)throw new ae(401,"");return e}()}}function GM(){return rr&&!rr.destroyed?rr:null}let qM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function Wz(t,e){let n;return n="noop"===t?new Uz:("zone.js"===t?void 0:t)||new $e({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:$e,useValue:a}];return a.run(()=>{const c=mt.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(vu,null);if(!d)throw new ae(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{cy(this._modules,l),h.unsubscribe()})}),function zz(t,e,n){try{const r=n();return Au(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(ty);return h.runInitializers(),h.donePromise.then(()=>(function Cq(t){In(t,"Expected localeId to be defined"),"string"==typeof t&&(Ix=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ii,Ad)||Ad),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=WM({},r);return function $z(t,e,n){const r=new Lm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(uy);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ae(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(mt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function WM(t,e){return Array.isArray(e)?e.reduce(WM,t):Object.assign(Object.assign({},t),e)}let uy=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Se(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Se(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),ry(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function $2(...t){const e=Qa(t),n=function O2(t,e){return"number"==typeof Np(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?hr(r[0]):Ka(n)(pt(r,e)):Ur}(a,u.pipe(function H2(t={}){const{connector:e=(()=>new Lr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return At((m,_)=>{c++,!d&&!l&&h();const E=u=null!=u?u:e();_.add(()=>{c--,0===c&&!d&&!l&&(a=Rp(p,i))}),E.subscribe(_),o||(o=new Rl({next:y=>E.next(y),error:y=>{d=!0,h(),a=Rp(f,n,y),E.error(y)},complete:()=>{l=!0,h(),a=Rp(f,r),E.complete()}}),pt(m).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new ae(405,"");let i;i=n instanceof zx?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function Hz(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Kr),a=i.create(mt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(oy,null),l=c&&a.injector.get(BM);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),cy(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ae(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;cy(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(OM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F($e),F(mt),F(vu),F(ku),F(ty))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let KM=!0,Ld=(()=>{class t{}return t.__NG_ELEMENT_ID__=Yz,t})();function Yz(t){return function Jz(t,e,n){if($l(t)&&!n){const r=Dn(t.index,e);return new Pu(r,r)}return 47&t.type?new Pu(e[16],e):null}(nt(),b(),16==(16&t))}class ZM{constructor(){}supports(e){return Cu(e)}create(e){return new r3(e)}}const n3=(t,e)=>e;class r3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||n3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<tN(r,i,s)?n:r,a=tN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Cu(e))throw new ae(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function uG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new i3(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new eN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class i3{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class s3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class eN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new s3,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class nN{constructor(){}supports(e){return e instanceof Map||gm(e)}create(){return new o3}}class o3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||gm(e)))throw new ae(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new a3(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class a3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rN(){return new Bd([new ZM])}let Bd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||rN()),deps:[[t,new fu,new it]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ae(901,"")}}return t.\u0275prov=ee({token:t,providedIn:"root",factory:rN}),t})();function iN(){return new Bu([new nN])}let Bu=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||iN()),deps:[[t,new fu,new it]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new ae(901,"")}}return t.\u0275prov=ee({token:t,providedIn:"root",factory:iN}),t})();const l3=HM(null,"core",[{provide:Uu,useValue:"unknown"},{provide:qM,deps:[mt]},{provide:BM,deps:[]},{provide:FM,deps:[]}]);let d3=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(uy))},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({}),t})(),jd=null;function Cr(){return jd}const Un=new Y("DocumentToken");let us=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return function g3(){return F(sN)}()},providedIn:"platform"}),t})();const m3=new Y("Location Initialized");let sN=(()=>{class t extends us{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cr().getBaseHref(this._doc)}onPopState(n){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){oN()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){oN()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(Un))},t.\u0275prov=ee({token:t,factory:function(){return function y3(){return new sN(F(Un))}()},providedIn:"platform"}),t})();function oN(){return!!window.history.pushState}function py(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function aN(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Yr(t){return t&&"?"!==t[0]?"?"+t:t}let zo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return function _3(t){const e=F(Un).location;return new uN(F(us),e&&e.origin||"")}()},providedIn:"root"}),t})();const gy=new Y("appBaseHref");let uN=(()=>{class t extends zo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return py(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Yr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Yr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Yr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(us),F(gy,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),v3=(()=>{class t extends zo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=py(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Yr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Yr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(us),F(gy,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),my=(()=>{class t{constructor(n,r){this._subject=new Ve,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=aN(cN(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yr(r))}normalize(n){return t.stripTrailingSlash(function E3(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,cN(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Yr,t.joinWithSlash=py,t.stripTrailingSlash=aN,t.\u0275fac=function(n){return new(n||t)(F(zo),F(us))},t.\u0275prov=ee({token:t,factory:function(){return function w3(){return new my(F(zo),F(us))}()},providedIn:"root"}),t})();function cN(t){return t.replace(/\/index.html$/,"")}class a8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _N=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new a8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),vN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{vN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(nr),I(Qr),I(Bd))},t.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function vN(t,e){t.context.$implicit=e.item}let IN=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,s]=n.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return t.\u0275fac=function(n){return new(n||t)(I(Sn),I(Bu),I(zr))},t.\u0275dir=B({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),O8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({}),t})();let U8=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new B8(F(Un),window)}),t})();class B8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function j8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=CN(this.window.history)||CN(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function CN(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class My extends class H8 extends class p3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function f3(t){jd||(jd=t)}(new My)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function G8(){return Hu=Hu||document.querySelector("base"),Hu?Hu.getAttribute("href"):null}();return null==n?null:function q8(t){Jd=Jd||document.createElement("a"),Jd.setAttribute("href",t);const e=Jd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function i8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Jd,Hu=null;const TN=new Y("TRANSITION_ID"),z8=[{provide:ey,useFactory:function W8(t,e,n){return()=>{n.get(ty).donePromise.then(()=>{const r=Cr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[TN,Un,mt],multi:!0}];class Ny{static init(){!function jz(t){ay=t}(new Ny)}addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Cr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let K8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Xd=new Y("EventManagerPlugins");let Zd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(Xd),F($e))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class AN{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Cr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let SN=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),Gu=(()=>{class t extends SN{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(xN),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(xN))}}return t.\u0275fac=function(n){return new(n||t)(F(Un))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function xN(t){Cr().remove(t)}const Ry={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ky=/%COMP%/g;function eh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?eh(t,i,n):(i=i.replace(ky,t),n.push(i))}return n}function RN(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Py=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Oy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case fr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new e4(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case fr.ShadowDom:return new t4(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=eh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(Zd),F(Gu),F(Vu))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class Oy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Ry[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Ry[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ry[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,RN(r)):this.eventManager.addEventListener(e,n,RN(r))}}class e4 extends Oy{constructor(e,n,r,i){super(e),this.component=r;const s=eh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function J8(t){return"_ngcontent-%COMP%".replace(ky,t)}(i+"-"+r.id),this.hostAttr=function X8(t){return"_nghost-%COMP%".replace(ky,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class t4 extends Oy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=eh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let n4=(()=>{class t extends AN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Un))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const PN=["alt","control","meta","shift"],i4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ON={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},s4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let o4=(()=>{class t extends AN{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(PN.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function a4(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ON.hasOwnProperty(e)&&(e=ON[e]))}return i4[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),PN.forEach(s=>{s!=i&&s4[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Un))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const d4=HM(l3,"browser",[{provide:Uu,useValue:"browser"},{provide:PM,useValue:function u4(){My.makeCurrent(),Ny.init()},multi:!0},{provide:Un,useFactory:function l4(){return function vB(t){Kp=t}(document),document},deps:[]}]),h4=[{provide:cm,useValue:"root"},{provide:vu,useFactory:function c4(){return new vu},deps:[]},{provide:Xd,useClass:n4,multi:!0,deps:[Un,$e,Uu]},{provide:Xd,useClass:o4,multi:!0,deps:[Un]},{provide:Py,useClass:Py,deps:[Zd,Gu,Vu]},{provide:Qx,useExisting:Py},{provide:SN,useExisting:Gu},{provide:Gu,useClass:Gu,deps:[Un]},{provide:oy,useClass:oy,deps:[$e]},{provide:Zd,useClass:Zd,deps:[Xd,$e]},{provide:class $8{},useClass:K8,deps:[]}];let f4=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Vu,useValue:n.appId},{provide:TN,useExisting:Vu},z8]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({providers:h4,imports:[O8,d3]}),t})();function VN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){VN(s,r,i,o,a,"next",u)}function a(u){VN(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const UN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Vy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},th=function(t){return function(t){const e=UN(t);return Vy.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class By{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function _t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jN(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function nh(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function $N(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function HN(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cs(){return"object"==typeof indexedDB}function qu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function jy(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}}class Ar{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function k4(t,e){return t.replace(P4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Tr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const P4=/\{\$([^}]+)}/g;function ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qN(s)&&qN(o)){if(!ih(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qN(t){return null!==t&&"object"==typeof t}function sh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class L4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function V4(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=$y),void 0===i.error&&(i.error=$y),void 0===i.complete&&(i.complete=$y);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $y(){}function Gy(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function nn(t){return t&&t._delegate?t._delegate:t}class $t{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ls="[DEFAULT]";class G4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new By;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function W4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ls?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const qy=[];var ce=(()=>{return(t=ce||(ce={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ce;var t})();const WN={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},K4=ce.INFO,Q4={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Y4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Q4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ko{constructor(e){this.name=e,this._logLevel=K4,this._logHandler=Y4,this._userLogHandler=null,qy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?WN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}let zN,KN;const QN=new WeakMap,Wy=new WeakMap,YN=new WeakMap,zy=new WeakMap,Ky=new WeakMap;let Qy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Wy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||YN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function i6(t){return"function"==typeof t?function r6(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z4(){return KN||(KN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Yy(this),e),Xr(QN.get(this))}:function(...e){return Xr(t.apply(Yy(this),e))}:function(e,...n){const r=t.call(Yy(this),e,...n);return YN.set(r,e.sort?e.sort():[e]),Xr(r)}}(t):(t instanceof IDBTransaction&&function t6(t){if(Wy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wy.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function X4(){return zN||(zN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Qy):t)}function Xr(t){if(t instanceof IDBRequest)return function e6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QN.set(n,t)}).catch(()=>{}),Ky.set(e,t),e}(t);if(zy.has(t))return zy.get(t);const e=i6(t);return e!==t&&(zy.set(t,e),Ky.set(e,t)),e}const Yy=t=>Ky.get(t);function oh(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xr(o.result),u.oldVersion,u.newVersion,Xr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Jy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Xr(n).then(()=>{})}const s6=["get","getKey","getAll","getAllKeys","count"],o6=["put","add","delete","clear"],Xy=new Map;function JN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Xy.get(e))return Xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=o6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!s6.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Xy.set(e,s),s}!function n6(t){Qy=t(Qy)}(t=>o2(s2({},t),{get:(e,n,r)=>JN(e,n)||t.get(e,n,r),has:(e,n)=>!!JN(e,n)||t.has(e,n)}));class a6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function u6(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Zy="@firebase/app",e_=new Ko("@firebase/app"),t_="[DEFAULT]",P6={[Zy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ds=new Map,ah=new Map;function O6(t,e){try{t.container.addComponent(e)}catch(n){e_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rn(t){const e=t.name;if(ah.has(e))return e_.debug(`There were multiple attempts to register component ${e}.`),!1;ah.set(e,t);for(const n of ds.values())O6(n,t);return!0}function Qo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Di=new Ar("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class L6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const Yo="9.8.2";function V6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:t_,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Di.create("bad-app-name",{appName:String(r)});const i=ds.get(r);if(i){if(ih(t,i.options)&&ih(n,i.config))return i;throw Di.create("duplicate-app",{appName:r})}const s=new z4(r);for(const a of ah.values())s.addComponent(a);const o=new L6(t,n,s);return ds.set(r,o),o}function n_(t=t_){const e=ds.get(t);if(!e)throw Di.create("no-app",{appName:t});return e}function ZN(){return Array.from(ds.values())}function Ue(t,e,n){var r;let i=null!==(r=P6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void e_.warn(a.join(" "))}rn(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ku="firebase-heartbeat-store";let i_=null;function eR(){return i_||(i_=oh("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ku)}}).catch(t=>{throw Di.create("storage-open",{originalErrorMessage:t.message})})),i_}function s_(){return(s_=g(function*(t){try{return(yield eR()).transaction(Ku).objectStore(Ku).get(nR(t))}catch(e){throw Di.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function tR(t,e){return o_.apply(this,arguments)}function o_(){return(o_=g(function*(t,e){try{const r=(yield eR()).transaction(Ku,"readwrite");return yield r.objectStore(Ku).put(e,nR(t)),r.done}catch(n){throw Di.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function nR(t){return`${t.name}!${t.options.appId}`}class G6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=rR(),{heartbeatsToSend:r,unsentEntries:i}=function q6(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),iR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=th(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function rR(){return(new Date).toISOString().substring(0,10)}class W6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!cs()&&qu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function j6(t){return s_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return tR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return tR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function iR(t){return th(JSON.stringify({version:2,heartbeats:t})).length}!function z6(t){rn(new $t("platform-logger",e=>new a6(e),"PRIVATE")),rn(new $t("heartbeat",e=>new G6(e),"PRIVATE")),Ue(Zy,"0.7.25",t),Ue(Zy,"0.7.25","esm2017"),Ue("fire-js","")}(""),Ue("firebase","9.8.2","app");const sR="@firebase/installations",aR="w:0.5.9",uR="FIS_v2",Zr=new Ar("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cR(t){return t instanceof Tr&&t.code.includes("request-failed")}function u_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function lR(t){return{token:t.token,requestStatus:2,expiresIn:tK(t.expiresIn),creationTime:Date.now()}}function c_(t,e){return l_.apply(this,arguments)}function l_(){return(l_=g(function*(t,e){const r=(yield e.json()).error;return Zr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hR(t,{refreshToken:e}){const n=dR(t);return n.append("Authorization",function nK(t){return`${uR} ${t}`}(e)),n}function d_(t){return h_.apply(this,arguments)}function h_(){return(h_=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function tK(t){return Number(t.replace("s","000"))}function rK(t,e){return f_.apply(this,arguments)}function f_(){return(f_=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=u_(t),i=dR(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:uR,appId:t.appId,sdkVersion:aR})},u=yield d_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lR(c.authToken)}}throw yield c_("Create Installation",u)})).apply(this,arguments)}function fR(t){return new Promise(e=>{setTimeout(e,t)})}const sK=/^[cdef][\w-]{21}$/;function oK(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function aK(t){return function iK(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return sK.test(n)?n:""}catch(t){return""}}function Jo(t){return`${t.appName}!${t.appId}`}const Xo=new Map;function pR(t,e){const n=Jo(t);gR(n,e),function lK(t,e){const n=function mR(){return!hs&&"BroadcastChannel"in self&&(hs=new BroadcastChannel("[Firebase] FID Change"),hs.onmessage=t=>{gR(t.data.key,t.data.fid)}),hs}();n&&n.postMessage({key:t,fid:e}),function yR(){0===Xo.size&&hs&&(hs.close(),hs=null)}()}(n,e)}function gR(t,e){const n=Xo.get(t);if(n)for(const r of n)r(e)}let hs=null;const fs="firebase-installations-store";let g_=null;function m_(){return g_||(g_=oh("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fs)}})),g_}function uh(t,e){return y_.apply(this,arguments)}function y_(){return(y_=g(function*(t,e){const n=Jo(t),i=(yield m_()).transaction(fs,"readwrite"),s=i.objectStore(fs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&pR(t,e.fid),e})).apply(this,arguments)}function __(t){return v_.apply(this,arguments)}function v_(){return(v_=g(function*(t){const e=Jo(t),r=(yield m_()).transaction(fs,"readwrite");yield r.objectStore(fs).delete(e),yield r.done})).apply(this,arguments)}function Qu(t,e){return w_.apply(this,arguments)}function w_(){return(w_=g(function*(t,e){const n=Jo(t),i=(yield m_()).transaction(fs,"readwrite"),s=i.objectStore(fs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&pR(t,a.fid),a})).apply(this,arguments)}function E_(t){return I_.apply(this,arguments)}function I_(){return(I_=g(function*(t){let e;const n=yield Qu(t.appConfig,r=>{const i=fK(r),s=pK(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function fK(t){return vR(t||{fid:oK(),registrationStatus:0})}function pK(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Zr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function gK(t,e){return b_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mK(t)}:{installationEntry:e}}function b_(){return(b_=g(function*(t,e){try{const n=yield rK(t,e);return uh(t.appConfig,n)}catch(n){throw cR(n)&&409===n.customData.serverCode?yield __(t.appConfig):yield uh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function mK(t){return D_.apply(this,arguments)}function D_(){return(D_=g(function*(t){let e=yield _R(t.appConfig);for(;1===e.registrationStatus;)yield fR(100),e=yield _R(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield E_(t);return r||n}return e})).apply(this,arguments)}function _R(t){return Qu(t,e=>{if(!e)throw Zr.create("installation-not-found");return vR(e)})}function vR(t){return function yK(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function _K(t,e){return C_.apply(this,arguments)}function C_(){return(C_=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=vK(t,n),i=hR(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aR,appId:t.appId}})},u=yield d_(()=>fetch(r,a));if(u.ok)return lR(yield u.json());throw yield c_("Generate Auth Token",u)})).apply(this,arguments)}function vK(t,{fid:e}){return`${u_(t)}/${e}/authTokens:generate`}function T_(t){return A_.apply(this,arguments)}function A_(){return(A_=g(function*(t,e=!1){let n;const r=yield Qu(t.appConfig,s=>{if(!ER(s))throw Zr.create("not-registered");const o=s.authToken;if(!e&&IK(o))return s;if(1===o.requestStatus)return n=wK(t,e),s;{if(!navigator.onLine)throw Zr.create("app-offline");const a=DK(s);return n=EK(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function wK(t,e){return S_.apply(this,arguments)}function S_(){return(S_=g(function*(t,e){let n=yield wR(t.appConfig);for(;1===n.authToken.requestStatus;)yield fR(100),n=yield wR(t.appConfig);const r=n.authToken;return 0===r.requestStatus?T_(t,e):r})).apply(this,arguments)}function wR(t){return Qu(t,e=>{if(!ER(e))throw Zr.create("not-registered");return function CK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function EK(t,e){return x_.apply(this,arguments)}function x_(){return(x_=g(function*(t,e){try{const n=yield _K(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield uh(t.appConfig,r),n}catch(n){if(!cR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield uh(t.appConfig,r)}else yield __(t.appConfig);throw n}})).apply(this,arguments)}function ER(t){return void 0!==t&&2===t.registrationStatus}function IK(t){return 2===t.requestStatus&&!function bK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function DK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function M_(){return(M_=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield E_(e);return r?r.catch(console.error):T_(e).catch(console.error),n.fid})).apply(this,arguments)}function N_(){return(N_=g(function*(t,e=!1){const n=t;return yield SK(n),(yield T_(n,e)).token})).apply(this,arguments)}function SK(t){return R_.apply(this,arguments)}function R_(){return(R_=g(function*(t){const{registrationPromise:e}=yield E_(t);e&&(yield e)})).apply(this,arguments)}function O_(t){return Zr.create("missing-app-config-values",{valueName:t})}const IR="installations",kK=t=>{const e=t.getProvider("app").getImmediate(),n=function NK(t){if(!t||!t.options)throw O_("App Configuration");if(!t.name)throw O_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw O_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Qo(e,"heartbeat"),_delete:()=>Promise.resolve()}},PK=t=>{const n=Qo(t.getProvider("app").getImmediate(),IR).getImmediate();return{getId:()=>function TK(t){return M_.apply(this,arguments)}(n),getToken:i=>function AK(t){return N_.apply(this,arguments)}(n,i)}};(function OK(){rn(new $t(IR,kK,"PUBLIC")),rn(new $t("installations-internal",PK,"PRIVATE"))})(),Ue(sR,"0.5.9"),Ue(sR,"0.5.9","esm2017");const F_="@firebase/remote-config",gn=new Ar("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class WK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function zK(t=navigator){return t.languages&&t.languages[0]||t.language}class KK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:zK()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((E,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(E){let y="fetch-client-network";throw"AbortError"===E.name&&(y="fetch-timeout"),gn.create(y,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw gn.create("fetch-client-parse",{originalErrorMessage:y.message})}m=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw gn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class JK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function QK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function YK(t){if(!(t instanceof Tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Gy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class e7{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lh(t,e){const n=t.target.error||void 0;return gn.create(e,{originalErrorMessage:n&&n.message})}const ps="app_namespace_store";class i7{constructor(e,n,r,i=function r7(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(lh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ps,{keyPath:"compositeKey"})}}catch(n){e(gn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ps],"readonly").objectStore(ps),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(lh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(gn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ps],"readwrite").objectStore(ps),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(lh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(gn.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ps],"readwrite").objectStore(ps),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(lh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(gn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class s7{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function a7(){return j_.apply(this,arguments)}function j_(){return(j_=g(function*(){if(!cs())return!1;try{return yield qu()}catch(t){return!1}})).apply(this,arguments)}!function o7(){rn(new $t("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gn.create("registration-window");if(!cs())throw gn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw gn.create("registration-project-id");if(!o)throw gn.create("registration-api-key");if(!a)throw gn.create("registration-app-id");const u=new i7(a,r.name,n=n||"firebase"),c=new s7(u),l=new Ko(F_);l.logLevel=ce.ERROR;const d=new KK(i,Yo,n,s,o,a),h=new JK(d,u),f=new WK(h,u,c,l),p=new e7(r,f,c,u,l);return function HK(t){const e=nn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ue(F_,"0.3.8"),Ue(F_,"0.3.8","esm2017")}();const u7="/firebase-messaging-sw.js",c7="/firebase-cloud-messaging-push-scope",TR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",AR="google.c.a.c_id",d7="google.c.a.c_l",h7="google.c.a.ts",f7="google.c.a.e";var Zo=(()=>{return(t=Zo||(Zo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Zo;var t})();function ei(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p7(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const $_="fcm_token_details_db",SR="fcm_token_object_Store";function m7(t){return H_.apply(this,arguments)}function H_(){return H_=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes($_))return null;let e=null;return(yield oh($_,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(SR))return;const c=a.objectStore(SR),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ei(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Jy($_),yield Jy("fcm_vapid_details_db"),yield Jy("undefined"),y7(e)?e:null;var r}),H_.apply(this,arguments)}function y7(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const gs="firebase-messaging-store";let G_=null;function q_(){return G_||(G_=oh("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gs)}})),G_}function xR(t){return W_.apply(this,arguments)}function W_(){return(W_=g(function*(t){const e=Y_(t),r=yield(yield q_()).transaction(gs).objectStore(gs).get(e);if(r)return r;{const i=yield m7(t.appConfig.senderId);if(i)return yield z_(t,i),i}})).apply(this,arguments)}function z_(t,e){return K_.apply(this,arguments)}function K_(){return(K_=g(function*(t,e){const n=Y_(t),i=(yield q_()).transaction(gs,"readwrite");return yield i.objectStore(gs).put(e,n),yield i.done,e})).apply(this,arguments)}function w7(t){return Q_.apply(this,arguments)}function Q_(){return(Q_=g(function*(t){const e=Y_(t),r=(yield q_()).transaction(gs,"readwrite");yield r.objectStore(gs).delete(e),yield r.done})).apply(this,arguments)}function Y_({appConfig:t}){return t.appId}const St=new Ar("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function I7(t,e){return J_.apply(this,arguments)}function J_(){return(J_=g(function*(t,e){const n=yield tv(t),r=NR(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ev(t.appConfig),i)).json()}catch(o){throw St.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw St.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw St.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function b7(t,e){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(t,e){const n=yield tv(t),r=NR(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ev(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw St.create("token-update-failed",{errorInfo:o})}if(s.error)throw St.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw St.create("token-update-no-token");return s.token})).apply(this,arguments)}function MR(t,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=g(function*(t,e){const r={method:"DELETE",headers:yield tv(t)};try{const s=yield(yield fetch(`${ev(t.appConfig)}/${e}`,r)).json();if(s.error)throw St.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw St.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function ev({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function tv(t){return nv.apply(this,arguments)}function nv(){return(nv=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function NR({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==TR&&(i.web.applicationPubKey=r),i}const D7=6048e5;function C7(t){return rv.apply(this,arguments)}function rv(){return(rv=g(function*(t){const e=yield A7(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ei(e.getKey("auth")),p256dh:ei(e.getKey("p256dh"))},r=yield xR(t.firebaseDependencies);if(r){if(S7(r.subscriptionOptions,n))return Date.now()>=r.createTime+D7?T7(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield MR(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kR(t.firebaseDependencies,n)}return kR(t.firebaseDependencies,n)})).apply(this,arguments)}function RR(t){return iv.apply(this,arguments)}function iv(){return(iv=g(function*(t){const e=yield xR(t.firebaseDependencies);e&&(yield MR(t.firebaseDependencies,e.token),yield w7(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function T7(t,e){return sv.apply(this,arguments)}function sv(){return(sv=g(function*(t,e){try{const n=yield b7(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield z_(t.firebaseDependencies,r),n}catch(n){throw yield RR(t),n}})).apply(this,arguments)}function kR(t,e){return ov.apply(this,arguments)}function ov(){return(ov=g(function*(t,e){const r={token:yield I7(t,e),createTime:Date.now(),subscriptionOptions:e};return yield z_(t,r),r.token})).apply(this,arguments)}function A7(t,e){return av.apply(this,arguments)}function av(){return(av=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p7(e)})})).apply(this,arguments)}function S7(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function PR(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function x7(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function M7(t,e){!e.data||(t.data=e.data)}(e,t),function N7(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function R7(t){return"object"==typeof t&&!!t&&AR in t}function OR(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function uv(t){return St.create("missing-app-config-values",{valueName:t})}OR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),OR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class P7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function k7(t){if(!t||!t.options)throw uv("App Configuration Object");if(!t.name)throw uv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw uv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function FR(t){return cv.apply(this,arguments)}function cv(){return(cv=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(u7,{scope:c7}),t.swRegistration.update().catch(()=>{})}catch(e){throw St.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function O7(t,e){return lv.apply(this,arguments)}function lv(){return(lv=g(function*(t,e){if(!e&&!t.swRegistration&&(yield FR(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw St.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function F7(t,e){return dv.apply(this,arguments)}function dv(){return(dv=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=TR)})).apply(this,arguments)}function hv(){return(hv=g(function*(t,e){if(!navigator)throw St.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw St.create("permission-blocked");return yield F7(t,null==e?void 0:e.vapidKey),yield O7(t,null==e?void 0:e.serviceWorkerRegistration),C7(t)})).apply(this,arguments)}function L7(t,e,n){return fv.apply(this,arguments)}function fv(){return(fv=g(function*(t,e,n){const r=V7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[AR],message_name:n[d7],message_time:n[h7],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function V7(t){switch(t){case Zo.NOTIFICATION_CLICKED:return"notification_open";case Zo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pv(){return(pv=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Zo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(PR(n)):t.onMessageHandler.next(PR(n)));const r=n.data;R7(r)&&"1"===r[f7]&&(yield L7(t,n.messageType,r))})).apply(this,arguments)}const VR="@firebase/messaging",B7=t=>{const e=new P7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function U7(t,e){return pv.apply(this,arguments)}(e,n)),e},j7=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function LR(t,e){return hv.apply(this,arguments)}(e,r)}};function BR(){return gv.apply(this,arguments)}function gv(){return(gv=g(function*(){try{yield qu()}catch(t){return!1}return"undefined"!=typeof window&&cs()&&jy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $7(){rn(new $t("messaging",B7,"PUBLIC")),rn(new $t("messaging-internal",j7,"PRIVATE")),Ue(VR,"0.9.13"),Ue(VR,"0.9.13","esm2017")}();const dh="analytics",q7="firebase_id",K7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jR="https://www.googletagmanager.com/gtag/js",xt=new Ko("@firebase/analytics");function $R(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Q7(t,e){const n=document.createElement("script");n.src=`${jR}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function J7(t,e,n,r,i,s){return _v.apply(this,arguments)}function _v(){return(_v=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield $R(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,s)})).apply(this,arguments)}function X7(t,e,n,r,i){return vv.apply(this,arguments)}function vv(){return(vv=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield $R(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){xt.error(s)}})).apply(this,arguments)}function t5(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(jR))return e;return null}const xn=new Ar("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),HR=new class s5{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function o5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function a5(t){return wv.apply(this,arguments)}function wv(){return(wv=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:o5(r)},s=K7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function u5(t){return Ev.apply(this,arguments)}function Ev(){return(Ev=g(function*(t,e=HR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new d5;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),GR({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function GR(t,e,n){return Iv.apply(this,arguments)}function Iv(){return(Iv=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=HR){const{appId:s,measurementId:o}=t;try{yield c5(r,e)}catch(a){if(o)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield a5(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!l5(a)){if(i.deleteThrottleMetadata(s),o)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Gy(n,i.intervalMillis,30):Gy(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,c),xt.debug(`Calling attemptFetch again in ${u} millis`),GR(t,c,r,i)}})).apply(this,arguments)}function c5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function l5(t){if(!(t instanceof Tr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class d5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function h5(){return bv.apply(this,arguments)}function bv(){return(bv=g(function*(){if(!cs())return xt.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield qu()}catch(t){return xt.warn(xn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function Dv(){return(Dv=g(function*(t,e,n,r,i,s,o){var a;const u=u5(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(u);const c=h5().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);t5()||Q7(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[q7]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class p5{constructor(e){this.app=e}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},qR=[];const WR={};let KR,Yu,hh="dataLayer",Cv=!1;function m5(t,e,n){!function g5(){const t=[];if(nh()&&t.push("This is a browser extension environment."),jy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw xn.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[r])throw xn.create("already-exists",{id:r});if(!Cv){!function Y7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(hh);const{wrappedGtag:s,gtagCore:o}=function e5(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Z7(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield X7(t,e,n,a,u):"config"===o?yield J7(t,e,n,r,a,u):t("set",a)}catch(c){xt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ti,qR,WR,hh,"gtag");Yu=s,KR=o,Cv=!0}return ti[r]=function f5(t,e,n,r,i,s,o){return Dv.apply(this,arguments)}(t,qR,WR,e,KR,hh,n),new p5(t)}function Tv(){return(Tv=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function b5(){return Nv.apply(this,arguments)}function Nv(){return(Nv=g(function*(){if(nh()||!jy()||!cs())return!1;try{return yield qu()}catch(t){return!1}})).apply(this,arguments)}const QR="@firebase/analytics";!function C5(){rn(new $t(dh,(e,{options:n})=>m5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),rn(new $t("analytics-internal",function t(e){try{const n=e.getProvider(dh).getImmediate();return{logEvent:(r,i,s)=>function D5(t,e,n,r){t=nn(t),function y5(t,e,n,r,i){return Tv.apply(this,arguments)}(Yu,ti[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}(n,r,i,s)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ue(QR,"0.7.9"),Ue(QR,"0.7.9","esm2017")}();class T5 extends wn{constructor(e,n){super()}schedule(e,n=0){return this}}const fh={setInterval(t,e,...n){const{delegate:r}=fh;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=fh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class JR extends T5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return fh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;fh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ro(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const XR={now:()=>(XR.delegate||Date).now(),delegate:void 0};class Ju{constructor(e,n=Ju.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ju.now=XR.now;class ZR extends Ju{constructor(e,n=Ju.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const x5=new class S5 extends ZR{}(class A5 extends JR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),M5=new ZR(JR);function mn(t,e,n){const r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?At((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Qi}const ph=new Go("7.3.0"),Rv="__angularfire_symbol__analyticsIsSupportedValue",kv="__angularfire_symbol__analyticsIsSupported",Pv="__angularfire_symbol__remoteConfigIsSupportedValue",Ov="__angularfire_symbol__remoteConfigIsSupported",Fv="__angularfire_symbol__messagingIsSupportedValue",Lv="__angularfire_symbol__messagingIsSupported";function Uv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[kv]||(globalThis[kv]=b5().then(t=>globalThis[Rv]=t).catch(()=>globalThis[Rv]=!1)),globalThis[Lv]||(globalThis[Lv]=BR().then(t=>globalThis[Fv]=t).catch(()=>globalThis[Fv]=!1)),globalThis[Ov]||(globalThis[Ov]=a7().then(t=>globalThis[Pv]=t).catch(()=>globalThis[Pv]=!1));const Bv=(t,e)=>{const n=e?[e]:ZN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ea(){}class ek{constructor(e,n=x5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class N5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ea,{},ea,ea)),n.pipe(mn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jv=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ek(Zone.current)),this.insideAngular=n.run(()=>new ek(Zone.current,M5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F($e))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ms(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function R5(t){return ms().ngZone.runOutsideAngular(()=>t())}function ys(t){return ms().ngZone.run(()=>t())}function k5(t){return ms(),function P5(t){return function(n){return(n=n.lift(new N5(t.ngZone))).pipe(Ol(t.outsideAngular),Pl(t.insideAngular))}}(ms())(t)}const O5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ys(()=>t.apply(void 0,r))},$n=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ea,{},ea,ea)))),r[s]=O5(r[s],n));const i=R5(()=>t.apply(this,r));if(!e){if(i instanceof Se){const s=ms();return i.pipe(Ol(s.outsideAngular),Pl(s.insideAngular))}return ys(()=>i)}return i instanceof Se?i.pipe(k5):i instanceof Promise?ys(()=>new Promise((s,o)=>i.then(a=>ys(()=>s(a)),a=>ys(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ys(()=>i)};class ta{constructor(e){return e}}class $v{constructor(){return ZN()}}const Hv=new Y("angularfire2._apps"),L5={provide:ta,useFactory:function F5(t){return t&&1===t.length?t[0]:new ta(n_())},deps:[[new it,Hv]]},V5={provide:$v,deps:[[new it,Hv]]};function U5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ta(r)}}let B5=(()=>{class t{constructor(n){Ue("angularfire",ph.full,"core"),Ue("angularfire",ph.full,"app"),Ue("angular",Yx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(Uu))},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({providers:[L5,V5]}),t})();function j5(t,...e){return{ngModule:B5,providers:[{provide:Hv,useFactory:U5(t),multi:!0,deps:[$e,mt,jv,...e]}]}}const $5=$n(V6,!0),tk=new Map,H5={activated:!1,tokenObservers:[]},G5={initialized:!1,enabled:!1};function vt(t){return tk.get(t)||H5}function or(t,e){tk.set(t,e)}function gh(){return G5}class Q5{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new By,yield function Y5(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new By,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const sn=new Ar("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rk(t){if(!vt(t).activated)throw sn.create("use-before-activation",{appName:t.name})}function Wv(t,e){return zv.apply(this,arguments)}function zv(){return(zv=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw sn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw sn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw sn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function t9(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Xu="firebase-app-check-store";let _h=null;function sk(){return _h||(_h=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(sn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xu,{keyPath:"compositeKey"})}}catch(n){e(sn.create("storage-open",{originalErrorMessage:n.message}))}}),_h)}function Kv(){return(Kv=g(function*(t,e){const r=(yield sk()).transaction(Xu,"readwrite"),s=r.objectStore(Xu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(sn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Zu=new Ko("@firebase/app-check");function ck(t,e){return cs()?function s9(t,e){return function ok(t,e){return Kv.apply(this,arguments)}(function uk(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Zu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function lk(){return gh().enabled}function dk(){return Xv.apply(this,arguments)}function Xv(){return(Xv=g(function*(){const t=gh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const d9={error:"UNKNOWN_ERROR"};function h9(t){return Vy.encodeString(JSON.stringify(t),!1)}function vh(t){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(t,e=!1){const n=t.app;rk(n);const r=vt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&wh(u)&&(i=u)}if(!e&&i&&wh(i))return{token:i.token};let a,o=!1;if(lk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Wv(t9(n,yield dk()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield ck(n,u),or(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Zu.warn(u.message):Zu.error(u),s=u}return i?(a={token:i.token},or(n,Object.assign(Object.assign({},r),{token:i})),yield ck(n,i)):a=p9(s),o&&fk(n,a),a})).apply(this,arguments)}function tw(t,e){const n=vt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),or(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function hk(t){const{app:e}=t,n=vt(e);let r=n.tokenRefresher;r||(r=function f9(t){const{app:e}=t;return new Q5(g(function*(){let r;if(r=vt(e).token?yield vh(t,!0):yield vh(t),r.error)throw r.error}),()=>!0,()=>{const n=vt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),or(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function fk(t,e){const n=vt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function wh(t){return t.expireTimeMillis-Date.now()>0}function p9(t){return{token:h9(d9),error:t}}class g9{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=vt(this.app);for(const n of e)tw(this.app,n.next);return Promise.resolve()}}const Ek="app-check-internal";!function x9(){rn(new $t("app-check",t=>function m9(t,e){return new g9(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Ek).initialize()})),rn(new $t(Ek,t=>function y9(t){return{getToken:e=>vh(t,e),addTokenListener:e=>function ew(t,e,n,r){const{app:i}=t,s=vt(i),o={next:n,error:r,type:e};if(or(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&wh(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),hk(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>hk(t))}(t,"INTERNAL",e),removeTokenListener:e=>tw(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ue("@firebase/app-check","0.5.8")}();class sw{constructor(){return Bv("app-check")}}"undefined"!=typeof window&&window;const P9=function bk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dk=new Ar("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ck=new Ko("@firebase/auth");function Ih(t,...e){Ck.logLevel<=ce.ERROR&&Ck.error(`Auth (9.8.2): ${t}`,...e)}function yn(t,...e){throw aw(t,...e)}function Sr(t,...e){return aw(t,...e)}function Tk(t,e,n){const r=Object.assign(Object.assign({},P9()),{[e]:n});return new Ar("auth","Firebase",r).create(e,{appName:t.name})}function aw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Dk.create(t,...e)}function A(t,e,...n){if(!t)throw aw(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function Ci(t,e){t||xr(e)}const Ak=new Map;function ni(t){Ci(t instanceof Function,"Expected a class definition");let e=Ak.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ak.set(t,e),e)}function ec(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Sk(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=jN()||$N()}get(){return function L9(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function uw(){return"http:"===Sk()||"https:"===Sk()}()||nh()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cw(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},B9=new tc(3e4,6e4);function at(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function wt(t,e,n,r){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(t,e,n,r,i={}){return Mk(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=sh(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),xk.fetch()(Nk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Mk(t,e,n){return dw.apply(this,arguments)}function dw(){return(dw=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},U9),e);try{const i=new j9(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw nc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw nc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw nc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Tk(t,l,c);yn(t,l)}}catch(i){if(i instanceof Tr)throw i;yn(t,"network-request-failed")}})).apply(this,arguments)}function ri(t,e,n,r){return hw.apply(this,arguments)}function hw(){return(hw=g(function*(t,e,n,r,i={}){const s=yield wt(t,e,n,r,i);return"mfaPendingCredential"in s&&yn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Nk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cw(t.config,i):`${t.config.apiScheme}://${i}`}class j9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),B9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}function fw(){return(fw=g(function*(t,e){return wt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function G9(t,e){return gw.apply(this,arguments)}function gw(){return(gw=g(function*(t,e){return wt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function mw(){return(mw=g(function*(t,e=!1){const n=nn(t),r=yield n.getIdToken(e),i=bh(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rc(yw(i.auth_time)),issuedAtTime:rc(yw(i.iat)),expirationTime:rc(yw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function yw(t){return 1e3*Number(t)}function bh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Vy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Ih("Failed to decode base64 JWT payload"),null)}catch(i){return Ih("Caught error parsing JWT payload as JSON",i),null}}function ii(t,e){return _w.apply(this,arguments)}function _w(){return(_w=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Tr&&z9(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function z9({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class K9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class Rk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ic(t){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ii(t,G9(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?J9(s.providerUserInfo):[],a=Y9(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Rk(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function ww(){return(ww=g(function*(t){const e=nn(t);yield ic(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Y9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function J9(t){return t.map(e=>{var{providerId:n}=e,r=sT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Ew(){return(Ew=g(function*(t,e){const n=yield Mk(t,{},g(function*(){const r=sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Nk(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xk.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function W9(t){const e=bh(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function X9(t,e){return Ew.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new sc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return xr("not implemented")}}function Ti(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class _s{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rk(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield ii(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function q9(t){return mw.apply(this,arguments)}(this,e)}reload(){return function Q9(t){return ww.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new _s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ic(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield ii(e,function $9(t,e){return fw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:P,isAnonymous:O,providerData:te,stsTokenManager:Ae}=n;A(T&&Ae,e,"internal-error");const dr=sc.fromJSON(this.name,Ae);A("string"==typeof T,e,"internal-error"),Ti(d,e.name),Ti(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),Ti(f,e.name),Ti(p,e.name),Ti(m,e.name),Ti(_,e.name),Ti(E,e.name),Ti(y,e.name);const no=new _s({uid:T,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:dr,createdAt:E,lastLoginAt:y});return te&&Array.isArray(te)&&(no.providerData=te.map(xl=>Object.assign({},xl))),_&&(no._redirectEventId=_),no}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new sc;i.updateFromServerResponse(n);const s=new _s({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ic(s),s})()}}const kk=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?_s._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new ra(ni(kk),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ni(kk);const o=Dh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=_s._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new ra(s,e,r)):new ra(s,e,r)})()}}function Pk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ok(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uk(e))return"Blackberry";if(Bk(e))return"Webos";if(Iw(e))return"Safari";if((e.includes("chrome/")||Fk(e))&&!e.includes("edge/"))return"Chrome";if(Vk(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function Ok(t=_t()){return/firefox\//i.test(t)}function Iw(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fk(t=_t()){return/crios\//i.test(t)}function Lk(t=_t()){return/iemobile/i.test(t)}function Vk(t=_t()){return/android/i.test(t)}function Uk(t=_t()){return/blackberry/i.test(t)}function Bk(t=_t()){return/webos/i.test(t)}function Ch(t=_t()){return/iphone|ipad|ipod/i.test(t)}function jk(t=_t()){return Ch(t)||Vk(t)||Bk(t)||Uk(t)||/windows phone/i.test(t)||Lk(t)}function $k(t,e=[]){let n;switch(t){case"Browser":n=Pk(_t());break;case"Worker":n=`${Pk(_t())}-${t}`;break;default:n=t}return`${n}/JsCore/9.8.2/${e.length?e.join(","):"FirebaseCore-web"}`}class nQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class rQ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hk(this),this.idTokenSubscription=new Hk(this),this.beforeStateQueue=new nQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ra.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield ic(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function V9(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?nn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(ni(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ar("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&ni(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield ra.create(n,[ni(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$k(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function _n(t){return nn(t)}class Hk{constructor(e){this.auth=e,this.observer=null,this.addObserver=function F4(t,e){const n=new L4(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Wk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}function Dw(){return(Dw=g(function*(t,e){return wt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Tw(){return(Tw=g(function*(t,e){return ri(t,"POST","/v1/accounts:signInWithPassword",at(t,e))})).apply(this,arguments)}function Rw(){return(Rw=g(function*(t,e){return ri(t,"POST","/v1/accounts:signInWithEmailLink",at(t,e))})).apply(this,arguments)}function kw(){return(kw=g(function*(t,e){return ri(t,"POST","/v1/accounts:signInWithEmailLink",at(t,e))})).apply(this,arguments)}class oc extends Wk{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new oc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new oc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function aQ(t,e){return Tw.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function hQ(t,e){return Rw.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:yn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function Kk(t,e){return Dw.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function fQ(t,e){return kw.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:yn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function si(t,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(t,e){return ri(t,"POST","/v1/accounts:signInWithIdp",at(t,e))})).apply(this,arguments)}class cc{constructor(e){var n,r,i,s,o,a;const u=Wu(zu(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function wQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function EQ(t){const e=Wu(zu(t)).link,n=e?Wu(zu(e)).deep_link_id:null,r=Wu(zu(t)).deep_link_id;return(r?Wu(zu(r)).link:null)||r||n||e||t}(e);try{return new cc(n)}catch(r){return null}}}let Qk=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return oc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=cc.parseLink(r);return A(i,"argument-error"),oc._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ai{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class IQ extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Yk(t,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=g(function*(t,e){return ri(t,"POST","/v1/accounts:signUp",at(t,e))})).apply(this,arguments)}class Hn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield _s._fromIdTokenResponse(e,r,i),o=Jk(r);return new Hn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Jk(r);return new Hn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Jk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Sh extends Tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sh(e,n,r,i)}}function Xk(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Sh._fromErrorAndOperation(t,s,e,r):s})}function Hw(t,e){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(t,e,n=!1){const r=yield ii(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Hn._forOperation(t,"link",r)})).apply(this,arguments)}function Ww(){return(Ww=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ii(t,Xk(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=bh(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),Hn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&yn(r,"user-mismatch"),s}})).apply(this,arguments)}function t1(t,e){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(t,e,n=!1){const r="signIn",i=yield Xk(t,r,e),s=yield Hn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Qw(){return(Qw=g(function*(t,e){return t1(_n(t),e)})).apply(this,arguments)}function xQ(t,e,n){return aE.apply(this,arguments)}function aE(){return(aE=g(function*(t,e,n){const r=_n(t),i=yield Yk(r,{returnSecureToken:!0,email:e,password:n}),s=yield Hn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function MQ(t,e,n){return function Kw(t,e){return Qw.apply(this,arguments)}(nn(t),Qk.credential(e,n))}function UQ(t){return nn(t).signOut()}const Nh="__sak";class r1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WQ=(()=>{class t extends r1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function HQ(){const t=_t();return Iw(t)||Ch(t)}()&&function tQ(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=jk(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function eQ(){return HN()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),i1=(()=>{class t extends r1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let KQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function zQ(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function IE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class QQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=IE("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ut(){return window}function bE(){return void 0!==ut().WorkerGlobalScope&&"function"==typeof ut().importScripts}function DE(){return(DE=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const s1="firebaseLocalStorageDb",Rh="firebaseLocalStorage",o1="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(t,e){return t.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function CE(){const t=indexedDB.open(s1,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rh,{keyPath:o1})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Rh)?e(r):(r.close(),yield function tY(){const t=indexedDB.deleteDatabase(s1);return new dc(t).toPromise()}(),e(yield CE()))}))})}function a1(t,e,n){return TE.apply(this,arguments)}function TE(){return(TE=g(function*(t,e,n){const r=kh(t,!0).put({[o1]:e,value:n});return new dc(r).toPromise()})).apply(this,arguments)}function AE(){return(AE=g(function*(t,e){const n=kh(t,!1).get(e),r=yield new dc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function u1(t,e){const n=kh(t,!0).delete(e);return new dc(n).toPromise()}const sY=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield CE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return bE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=KQ._getInstance(function ZQ(){return bE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function JQ(){return DE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new QQ(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function XQ(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield CE();return yield a1(n,Nh,"1"),yield u1(n,Nh),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>a1(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function nY(t,e){return AE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>u1(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=kh(o,!1).getAll();return new dc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function l1(t){return`__${t}${Math.floor(1e6*Math.random())}`}function ws(t,e){return e?ni(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}l1("rcb"),new tc(3e4,6e4);class LE extends Wk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return si(e,this._buildIdpRequest())}_linkToIdToken(e,n){return si(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return si(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IY(t){return t1(t.auth,new LE(t),t.bypassAuthState)}function bY(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function e1(t,e){return Ww.apply(this,arguments)}(n,new LE(t),t.bypassAuthState)}function DY(t){return VE.apply(this,arguments)}function VE(){return(VE=g(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),Hw(n,new LE(t),t.bypassAuthState)})).apply(this,arguments)}new tc(2e3,1e4);const hc=new Map;class AY extends class CY{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IY;case"linkViaPopup":case"linkViaRedirect":return DY;case"reauthViaPopup":case"reauthViaRedirect":return bY;default:yn(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=hc.get(n.auth._key());if(!r){try{const s=(yield function SY(t,e){return HE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}hc.set(n.auth._key(),r)}return n.bypassAuthState||hc.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function HE(){return(HE=g(function*(t,e){const n=f1(e),r=h1(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function xY(t,e){hc.set(t._key(),e)}function h1(t){return ni(t._redirectPersistence)}function f1(t){return Dh("pendingRedirect",t.config.apiKey,t.name)}function p1(t,e){return YE.apply(this,arguments)}function YE(){return(YE=g(function*(t,e,n=!1){const r=_n(t),i=ws(r,e),o=yield new AY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class PY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function OY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!y1(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(m1(e))}saveEventToCache(e){this.cachedEventUids.add(m1(e)),this.lastProcessedEventTime=Date.now()}}function m1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y1({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function FY(t){return XE.apply(this,arguments)}function XE(){return(XE=g(function*(t,e={}){return wt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const LY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VY=/^https?/;function ZE(){return(ZE=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield FY(t);for(const n of e)try{if(BY(n))return}catch(r){}yn(t,"unauthorized-domain")})).apply(this,arguments)}function BY(t){const e=ec(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!VY.test(n))return!1;if(LY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const jY=new tc(3e4,6e4);function _1(){const t=ut().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Oh=null;function HY(t){return Oh=Oh||function $Y(t){return new Promise((e,n)=>{var r,i,s;function o(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),n(Sr(t,"network-request-failed"))},timeout:jY.get()})}if(null===(i=null===(r=ut().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ut().gapi)||void 0===s?void 0:s.load)){const a=l1("iframefcb");return ut()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},function c1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function cY(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Oh=null,e})}(t),Oh}const GY=new tc(5e3,15e3),zY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QY(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cw(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Yo},i=KY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${sh(r).slice(1)}`}function eI(){return eI=g(function*(t){const e=yield HY(t),n=ut().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:QY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zY,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Sr(t,"network-request-failed"),u=ut().setTimeout(()=>{o(a)},GY.get());function c(){ut().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),eI.apply(this,arguments)}const JY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class v1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function w1(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yo,eventId:i};if(e instanceof Ai){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function O4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof IQ){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function oJ({config:t}){return t.emulator?cw(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${sh(a).slice(1)}`}const tI="webStorageSupport",uJ=class aJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=p1,this._overrideRedirectResult=xY}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ci(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=w1(e,n,r,ec(),i);return function nJ(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},JY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=_t().toLowerCase();n&&(a=Fk(c)?"_blank":n),Ok(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Z9(t=_t()){var e;return Ch(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function rJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new v1(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch(h){}return new v1(d)}(e,a,IE())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function YQ(t){ut().location.href=t}(w1(e,n,r,ec(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function YY(t){return eI.apply(this,arguments)}(e),i=new PY(e);return r.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tI,{type:tI},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[tI];void 0!==o&&n(!!o),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function UY(t){return ZE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jk()||Iw()||Ch()}};var I1="@firebase/auth";class cJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hJ(t=n_()){const e=Qo(t,"auth");return e.isInitialized()?e.getImmediate():function O9(t,e){const n=Qo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ih(n.getOptions(),null!=e?e:{}))return i;yn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:uJ,persistence:[sY,WQ,i1]})}function D1(t){return new Se(function(e){var n=function VQ(t,e,n,r){return nn(t).onIdTokenChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function dJ(t){rn(new $t("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$k(t)},l=new rQ(a,u,c);return function F9(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rn(new $t("auth-internal",e=>{const n=_n(e.getProvider("auth").getImmediate());return new cJ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(I1,"0.20.2",function lJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ue(I1,"0.20.2","esm2017")}("Browser");class fc{constructor(e){return e}}class T1{constructor(){return Bv("auth")}}const nI=new Y("angularfire2.auth-instances");function pJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new fc(r)}}const gJ={provide:T1,deps:[[new it,nI]]},mJ={provide:fc,useFactory:function fJ(t,e){const n=Uv("auth",t,e);return n&&new fc(n)},deps:[[new it,nI],ta]};let yJ=(()=>{class t{constructor(){Ue("angularfire",ph.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({providers:[mJ,gJ]}),t})();function _J(t,...e){return{ngModule:yJ,providers:[{provide:nI,useFactory:pJ(t),multi:!0,deps:[$e,mt,jv,$v,[new it,sw],...e]}]}}const A1=$n(D1,!0),vJ=$n(xQ,!0),wJ=$n(hJ,!0),EJ=$n(MQ,!0),IJ=$n(UQ,!0);let Fh=(()=>{class t{constructor(n){this.auth=n}register({email:n,password:r}){return vJ(this.auth,n,r)}login({email:n,password:r}){return EJ(this.auth,n,r)}logout(){return IJ(this.auth)}get windowRef(){return A1}}return t.\u0275fac=function(n){return new(n||t)(F(fc))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const{isArray:bJ}=Array,{getPrototypeOf:DJ,prototype:CJ,keys:TJ}=Object;function S1(t){if(1===t.length){const e=t[0];if(bJ(e))return{args:e,keys:null};if(function AJ(t){return t&&"object"==typeof t&&DJ(t)===CJ}(e)){const n=TJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:SJ}=Array;function x1(t){return pe(e=>function xJ(t,e){return SJ(e)?t(...e):t(e)}(t,e))}function M1(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let N1=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(zr),I(Sn))},t.\u0275dir=B({type:t}),t})(),Es=(()=>{class t extends N1{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Ut(t){return pi(()=>{const e=t.prototype.constructor,n=e[jr]||lg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[jr]||lg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[ye]}),t})();const Mr=new Y("NgValueAccessor"),RJ={provide:Mr,useExisting:Ee(()=>ia),multi:!0},PJ=new Y("CompositionEventMode");let ia=(()=>{class t extends N1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kJ(){const t=Cr()?Cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(zr),I(Sn),I(PJ,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&yt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Me([RJ]),ye]}),t})();const Ht=new Y("NgValidators"),xi=new Y("NgAsyncValidators");function $1(t){return null!=t}function H1(t){const e=Au(t)?pt(t):t;return Dm(e),e}function G1(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function q1(t,e){return e.map(n=>n(t))}function W1(t){return t.map(e=>function FJ(t){return!t.validate}(e)?e:n=>e.validate(n))}function rI(t){return null!=t?function z1(t){if(!t)return null;const e=t.filter($1);return 0==e.length?null:function(n){return G1(q1(n,e))}}(W1(t)):null}function iI(t){return null!=t?function K1(t){if(!t)return null;const e=t.filter($1);return 0==e.length?null:function(n){return function MJ(...t){const e=_T(t),{args:n,keys:r}=S1(t),i=new Se(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;hr(n[l]).subscribe(ht(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?M1(r,a):a),s.complete())}))}});return e?i.pipe(x1(e)):i}(q1(n,e).map(H1)).pipe(pe(G1))}}(W1(t)):null}function Q1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Y1(t){return t._rawValidators}function J1(t){return t._rawAsyncValidators}function sI(t){return t?Array.isArray(t)?t:[t]:[]}function Vh(t,e){return Array.isArray(t)?t.includes(e):t===e}function X1(t,e){const n=sI(e);return sI(t).forEach(i=>{Vh(n,i)||n.push(i)}),n}function Z1(t,e){return sI(e).filter(n=>!Vh(t,n))}class eP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Mi extends eP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class on extends eP{get formDirective(){return null}get path(){return null}}class tP{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Uh=(()=>{class t extends tP{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Mi,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Cd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ye]}),t})(),Bh=(()=>{class t extends tP{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(on,10))},t.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Cd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ye]}),t})();function pc(t,e){uI(t,e),e.valueAccessor.writeValue(t.value),function GJ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rP(t,e)})}(t,e),function WJ(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function qJ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rP(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function HJ(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Hh(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Gh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function uI(t,e){const n=Y1(t);null!==e.validator?t.setValidators(Q1(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=J1(t);null!==e.asyncValidator?t.setAsyncValidators(Q1(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Gh(e._rawValidators,i),Gh(e._rawAsyncValidators,i)}function qh(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=Y1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=J1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Gh(e._rawValidators,r),Gh(e._rawAsyncValidators,r),n}function rP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function dI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gc="VALID",Wh="INVALID",sa="PENDING",mc="DISABLED";function fI(t){return(zh(t)?t.validators:t)||null}function aP(t){return Array.isArray(t)?rI(t):t||null}function pI(t,e){return(zh(e)?e.asyncValidators:t)||null}function uP(t){return Array.isArray(t)?iI(t):t||null}function zh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const cP=t=>t instanceof ar,gI=t=>t instanceof oa;function lP(t){return cP(t)?t.value:t.getRawValue()}function dP(t,e){const n=gI(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new ae(1e3,"");if(!r[e])throw new ae(1001,"")}function hP(t,e){gI(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new ae(1002,"")})}class mI{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=aP(this._rawValidators),this._composedAsyncValidatorFn=uP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gc}get invalid(){return this.status===Wh}get pending(){return this.status==sa}get disabled(){return this.status===mc}get enabled(){return this.status!==mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=uP(e)}addValidators(e){this.setValidators(X1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(X1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Z1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Z1(e,this._rawAsyncValidators))}hasValidator(e){return Vh(this._rawValidators,e)}hasAsyncValidator(e){return Vh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=mc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=gc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gc||this.status===sa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mc:gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator=!0;const n=H1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function YJ(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=gI(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(t=>t instanceof XJ)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?mc:this.errors?Wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(Wh)?Wh:gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ar extends mI{constructor(e=null,n,r){super(fI(n),pI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zh(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class oa extends mI{constructor(e,n,r){super(fI(n),pI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){hP(this,e),Object.keys(e).forEach(r=>{dP(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=lP(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class XJ extends mI{constructor(e,n,r){super(fI(n),pI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){hP(this,e),e.forEach((r,i)=>{dP(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>lP(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Kh=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),_P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({}),t})();const _I=new Y("NgModelWithFormControlWarning"),aX={provide:on,useExisting:Ee(()=>aa)};let aa=(()=>{class t extends on{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ve,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return pc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Hh(n.control||null,n,!1),dI(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function oP(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Hh(r||null,n),cP(i)&&(pc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function iP(t,e){uI(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function zJ(t,e){return qh(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uI(this.form,this),this._oldForm&&qh(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(I(Ht,10),I(xi,10))},t.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&yt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([aX]),ye,Pn]}),t})();const lX={provide:Mi,useExisting:Ee(()=>_c)};let _c=(()=>{class t extends Mi{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ve,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lI(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ia?n=s:function QJ(t){return Object.getPrototypeOf(t.constructor)===Es}(s)?r=s:i=s}),i||r||n||null}(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function cI(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function $h(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(I(on,13),I(Ht,10),I(xi,10),I(Mr,10),I(_I,8))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Me([lX]),ye,Pn]}),t})(),PP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({imports:[[_P]]}),t})(),TX=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({imports:[PP]}),t})(),AX=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:_I,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({imports:[PP]}),t})();function Z(...t){return pt(t,Qa(t))}class ur extends Lr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function OP(t,e,n){t?Vr(n,t,e):e()}function Qh(t,e){const n=se(t)?t:()=>t,r=i=>i.error(n());return new Se(e?i=>e.schedule(r,0,i):r)}const Yh=dt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function DI(...t){return function MX(){return Ka(1)}()(pt(t,Qa(t)))}function FP(t){return new Se(e=>{hr(t()).subscribe(e)})}function LP(){return At((t,e)=>{let n=null;t._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class NX extends Se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wn;const n=this.getSubject();e.add(this.source.subscribe(ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wn.EMPTY)}return e}refCount(){return LP()(this)}}function bs(t,e){return At((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ht(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;hr(t(u,l)).subscribe(i=ht(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function kX(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ht(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function VP(t,e){return At(kX(t,e,arguments.length>=2,!0))}function ua(t,e){return At((n,r)=>{let i=0;n.subscribe(ht(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ni(t){return At((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ht(n,void 0,void 0,o=>{s=hr(t(o,Ni(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function vc(t,e){return se(e)?ft(t,e,1):ft(t,1)}function CI(t){return t<=0?()=>Ur:At((e,n)=>{let r=[];e.subscribe(ht(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function UP(t=PX){return At((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function PX(){return new Yh}function BP(t){return At((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ca(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ua((i,s)=>t(i,s,r)):Qi,Ya(1),n?BP(e):UP(()=>new Yh))}class oi{constructor(e,n){this.id=e,this.url=n}}class TI extends oi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wc extends oi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jP extends oi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class LX extends oi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class VX extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UX extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BX extends oi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jX extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $X extends oi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $P{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HP{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class HX{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GX{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qX{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WX{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GP{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class zX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function la(t){return new zX(t)}const qP="ngNavigationCancelingError";function AI(t){const e=Error("NavigationCancelingError: "+t);return e[qP]=!0,e}function QX(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Nr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!WP(t[i],e[i]))return!1;return!0}function WP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function zP(t){return Array.prototype.concat.apply([],t)}function KP(t){return t.length>0?t[t.length-1]:null}function Mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Rr(t){return Dm(t)?t:Au(t)?pt(Promise.resolve(t)):Z(t)}const XX={exact:function JP(t,e,n){if(!Cs(t.segments,e.segments)||!Jh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!JP(t.children[r],e.children[r],n))return!1;return!0},subset:XP},QP={exact:function ZX(t,e){return Nr(t,e)},subset:function eZ(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>WP(t[n],e[n]))},ignored:()=>!0};function YP(t,e,n){return XX[n.paths](t.root,e.root,n.matrixParams)&&QP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function XP(t,e,n){return ZP(t,e,e.segments,n)}function ZP(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Cs(i,n)||e.hasChildren()||!Jh(i,n,r))}if(t.segments.length===n.length){if(!Cs(t.segments,n)||!Jh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!XP(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Cs(t.segments,i)&&Jh(t.segments,i,r)&&t.children[re])&&ZP(t.children[re],e,s,r)}}function Jh(t,e,n){return e.every((r,i)=>QP[n](t[i].parameters,r.parameters))}class Ds{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=la(this.queryParams)),this._queryParamMap}toString(){return rZ.serialize(this)}}class oe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Mt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xh(this)}}class Ec{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=la(this.parameters)),this._parameterMap}toString(){return iO(this)}}function Cs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class eO{}class tO{parse(e){const n=new hZ(e);return new Ds(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ic(e.root,!0)}`,r=function oZ(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Zh(n)}=${Zh(i)}`).join("&"):`${Zh(n)}=${Zh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function iZ(t){return encodeURI(t)}(e.fragment)}`:""}`}}const rZ=new tO;function Xh(t){return t.segments.map(e=>iO(e)).join("/")}function Ic(t,e){if(!t.hasChildren())return Xh(t);if(e){const n=t.children[re]?Ic(t.children[re],!1):"",r=[];return Mt(t.children,(i,s)=>{s!==re&&r.push(`${s}:${Ic(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function nZ(t,e){let n=[];return Mt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Mt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[Ic(t.children[re],!1)]:[`${i}:${Ic(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${Xh(t)}/${n[0]}`:`${Xh(t)}/(${n.join("//")})`}}function nO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zh(t){return nO(t).replace(/%3B/gi,";")}function SI(t){return nO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ef(t){return decodeURIComponent(t)}function rO(t){return ef(t.replace(/\+/g,"%20"))}function iO(t){return`${SI(t.path)}${function sZ(t){return Object.keys(t).map(e=>`;${SI(e)}=${SI(t[e])}`).join("")}(t.parameters)}`}const aZ=/^[^\/()?;=#]+/;function tf(t){const e=t.match(aZ);return e?e[0]:""}const uZ=/^[^=?&#]+/,lZ=/^[^&#]+/;class hZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new oe(e,n)),r}parseSegment(){const e=tf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ec(ef(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=tf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=tf(this.remaining);i&&(r=i,this.capture(r))}e[ef(n)]=ef(r)}parseQueryParam(e){const n=function cZ(t){const e=t.match(uZ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function dZ(t){const e=t.match(lZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=rO(n),s=rO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=tf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class sO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=xI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=xI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=MI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return MI(e,this._root).map(n=>n.value)}}function xI(t,e){if(t===e.value)return e;for(const n of e.children){const r=xI(t,n);if(r)return r}return null}function MI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=MI(t,n);if(r.length)return r.unshift(e),r}return[]}class ai{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function da(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class oO extends sO{constructor(e,n){super(e),this.snapshot=n,NI(this,e)}toString(){return this.snapshot.toString()}}function aO(t,e){const n=function fZ(t,e){const o=new nf([],{},{},"",{},re,e,null,t.root,-1,{});return new cO("",new ai(o,[]))}(t,e),r=new ur([new Ec("",{})]),i=new ur({}),s=new ur({}),o=new ur({}),a=new ur(""),u=new ha(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new oO(new ai(u,[]),n)}class ha{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>la(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>la(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function pZ(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class nf{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=la(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=la(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cO extends sO{constructor(e,n){super(n),this.url=e,NI(this,n)}toString(){return lO(this._root)}}function NI(t,e){e.value._routerState=t,e.children.forEach(n=>NI(t,n))}function lO(t){const e=t.children.length>0?` { ${t.children.map(lO).join(", ")} } `:"";return`${t.value}${e}`}function RI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nr(e.params,n.params)||t.params.next(n.params),function YX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function kI(t,e){const n=Nr(t.params,e.params)&&function tZ(t,e){return Cs(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||kI(t.parent,e.parent))}function bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function mZ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bc(t,r,i);return bc(t,r)})}(t,e,n);return new ai(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>bc(t,a)),o}}const r=function yZ(t){return new ha(new ur(t.url),new ur(t.params),new ur(t.queryParams),new ur(t.fragment),new ur(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>bc(t,s));return new ai(r,i)}}function rf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dc(t){return"object"==typeof t&&null!=t&&t.outlets}function PI(t,e,n,r,i){let s={};if(r&&Mt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),t===e)return new Ds(n,s,i);const o=dO(t,e,n);return new Ds(o,s,i)}function dO(t,e,n){const r={};return Mt(t.children,(i,s)=>{r[s]=i===e?n:dO(i,e,n)}),new oe(t.segments,r)}class hO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Dc);if(i&&i!==KP(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class OI{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function fO(t,e,n){if(t||(t=new oe([],{})),0===t.segments.length&&t.hasChildren())return sf(t,e,n);const r=function bZ(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Dc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!gO(u,c,o))return s;r+=2}else{if(!gO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new oe(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new oe(t.segments.slice(r.pathIndex),t.children),sf(s,0,i)}return r.match&&0===i.length?new oe(t.segments,{}):r.match&&!t.hasChildren()?FI(t,e,n):r.match?sf(t,0,i):FI(t,e,n)}function sf(t,e,n){if(0===n.length)return new oe(t.segments,{});{const r=function IZ(t){return Dc(t[0])?t[0].outlets:{[re]:t}}(n),i={};return Mt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=fO(t.children[o],e,s))}),Mt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new oe(t.segments,i)}}function FI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Dc(s)){const u=DZ(s.outlets);return new oe(r,u)}if(0===i&&rf(n[0])){r.push(new Ec(t.segments[e].path,pO(n[0]))),i++;continue}const o=Dc(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&rf(a)?(r.push(new Ec(o,pO(a))),i+=2):(r.push(new Ec(o,{})),i++)}return new oe(r,{})}function DZ(t){const e={};return Mt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=FI(new oe([],{}),0,n))}),e}function pO(t){const e={};return Mt(t,(n,r)=>e[r]=`${n}`),e}function gO(t,e,n){return t==n.path&&Nr(e,n.parameters)}class TZ{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),RI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=da(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Mt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=da(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=da(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=da(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new WX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new GX(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(RI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),RI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function AZ(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class LI{constructor(e,n){this.routes=e,this.module=n}}function Ri(t){return"function"==typeof t}function Ts(t){return t instanceof Ds}const Cc=Symbol("INITIAL_VALUE");function Tc(){return bs(t=>function SX(...t){const e=Qa(t),n=_T(t),{args:r,keys:i}=S1(t);if(0===r.length)return pt([],e);const s=new Se(function xX(t,e,n=Qi){return r=>{OP(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)OP(e,()=>{const c=pt(t[u],e);let l=!1;c.subscribe(ht(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>M1(i,o):Qi));return n?s.pipe(x1(n)):s}(t.map(e=>e.pipe(Ya(1),function RX(...t){const e=Qa(t);return At((n,r)=>{(e?DI(t,n,e):DI(t,n)).subscribe(r)})}(Cc)))).pipe(VP((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Cc?i:(s===Cc&&(r=!0),r||!1!==s&&o!==n.length-1&&!Ts(s)?i:s),e)},Cc),ua(e=>e!==Cc),pe(e=>Ts(e)?e:!0===e),Ya(1)))}class kZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ac,this.attachRef=null}}class Ac{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new kZ,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let VI=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.name=s||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new PZ(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(I(Ac),I(nr),I(ku),ou("name"),I(Ld))},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class PZ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ha?this.route:e===Ac?this.childContexts:this.parent.get(e,n)}}let mO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$r({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Ke(0,"router-outlet")},directives:[VI],encapsulation:2}),t})();function yO(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];OZ(r,FZ(e,r))}}function OZ(t,e){t.children&&yO(t.children,e)}function FZ(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function UI(t){const e=t.children&&t.children.map(UI),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=mO),n}function Gn(t){return t.outlet||re}function _O(t,e){const n=t.filter(r=>Gn(r)===e);return n.push(...t.filter(r=>Gn(r)!==e)),n}const vO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function af(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},vO):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||QX)(n,t,e);if(!s)return Object.assign({},vO);const o={};Mt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function uf(t,e,n,r,i="corrected"){if(n.length>0&&function UZ(t,e,n){return n.some(r=>cf(t,e,r)&&Gn(r)!==re)}(t,n,r)){const o=new oe(e,function VZ(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Gn(s)!==re){const o=new oe([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Gn(s)]=o}return i}(t,e,r,new oe(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function BZ(t,e,n){return n.some(r=>cf(t,e,r))}(t,n,r)){const o=new oe(t.segments,function LZ(t,e,n,r,i,s){const o={};for(const a of r)if(cf(t,n,a)&&!i[Gn(a)]){const u=new oe([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Gn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new oe(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function cf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function wO(t,e,n,r){return!!(Gn(t)===r||r!==re&&cf(e,n,t))&&("**"===t.path||af(e,t,n).matched)}function EO(t,e,n){return 0===e.length&&!t.children[n]}class lf{constructor(e){this.segmentGroup=e||null}}class IO{constructor(e){this.urlTree=e}}function Sc(t){return Qh(new lf(t))}function bO(t){return Qh(new IO(t))}class GZ{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Kr)}apply(){const e=uf(this.urlTree.root,[],[],this.config).segmentGroup,n=new oe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,re).pipe(pe(s=>this.createUrlTree(BI(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ni(s=>{if(s instanceof IO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof lf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(pe(i=>this.createUrlTree(BI(i),e.queryParams,e.fragment))).pipe(Ni(i=>{throw i instanceof lf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new oe([],{[re]:e}):e;return new Ds(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(pe(s=>new oe([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pt(i).pipe(vc(s=>{const o=r.children[s],a=_O(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(u=>({segment:u,outlet:s})))}),VP((s,o)=>(s[o.outlet]=o.segment,s),{}),function OX(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ua((i,s)=>t(i,s,r)):Qi,CI(1),n?BP(e):UP(()=>new Yh))}())}expandSegment(e,n,r,i,s,o){return pt(r).pipe(vc(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ni(c=>{if(c instanceof lf)return Z(null);throw c}))),ca(a=>!!a),Ni((a,u)=>{if(a instanceof Yh||"EmptyError"===a.name)return EO(n,i,s)?Z(new oe([],{})):Sc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return wO(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Sc(n):Sc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bO(s):this.lineralizeSegments(r,s).pipe(ft(o=>{const a=new oe(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=af(n,i,s);if(!a)return Sc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?bO(d):this.lineralizeSegments(i,d).pipe(ft(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Z(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(pe(d=>(r._loadedConfig=d,new oe(i,{})))):Z(new oe(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=af(n,r,i);return o?this.getChildConfig(e,r,i).pipe(ft(l=>{const d=l.module,h=l.routes,{segmentGroup:f,slicedSegments:p}=uf(n,a,u,h),m=new oe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(pe(T=>new oe(a,T)));if(0===h.length&&0===p.length)return Z(new oe(a,{}));const _=Gn(r)===s;return this.expandSegment(d,m,h,p,_?re:s,!0).pipe(pe(y=>new oe(a.concat(y.segments),y.children)))})):Sc(n)}getChildConfig(e,n,r){return n.children?Z(new LI(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Z(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ft(i=>i?this.configLoader.load(e.injector,n).pipe(pe(s=>(n._loadedConfig=s,s))):function $Z(t){return Qh(AI(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):Z(new LI([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?Z(i.map(o=>{const a=e.get(o);let u;if(function xZ(t){return t&&Ri(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!Ri(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Rr(u)})).pipe(Tc(),mn(o=>{if(!Ts(o))return;const a=AI(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),pe(o=>!0===o)):Z(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Z(r);if(i.numberOfChildren>1||!i.children[re])return Qh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ds(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Mt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Mt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function BI(t){const e={};for(const r of Object.keys(t.children)){const s=BI(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function qZ(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new oe(t.segments.concat(e.segments),e.children)}return t}(new oe(t.segments,e))}class DO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class df{constructor(e,n){this.component=e,this.route=n}}function zZ(t,e,n){const r=t._root;return xc(r,e?e._root:null,n,[r.value])}function hf(t,e,n){const r=function QZ(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=da(e);return t.children.forEach(o=>{(function YZ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function JZ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cs(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kI(t,e)||!Nr(t.queryParams,e.queryParams);default:return!kI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new DO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),xc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new df(a.outlet.component,o))}else o&&Mc(e,a,i),i.canActivateChecks.push(new DO(r)),xc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Mt(s,(o,a)=>Mc(o,n.getContext(a),i)),i}function Mc(t,e,n){const r=da(t),i=t.value;Mt(r,(s,o)=>{Mc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new df(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class oee{}function CO(t){return new Se(e=>e.error(t))}class uee{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=uf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,re);if(null===n)return null;const r=new nf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ai(r,n),s=new cO(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=uO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=_O(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=TO(r);return function cee(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return EO(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!wO(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?KP(r).parameters:{};s=new nf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xO(e),Gn(e),e.component,e,AO(n),SO(n)+r.length,MO(e))}else{const f=af(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new nf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xO(e),Gn(e),e.component,e,AO(n),SO(n)+o.length,MO(e))}const u=function lee(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=uf(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new ai(s,f)]}if(0===u.length&&0===l.length)return[new ai(s,[])];const d=Gn(e)===i,h=this.processSegment(u,c,l,d?re:i);return null===h?null:[new ai(s,h)]}}function dee(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function TO(t){const e=[],n=new Set;for(const r of t){if(!dee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=TO(r.children);e.push(new ai(r.value,i))}return e.filter(r=>!n.has(r))}function AO(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function SO(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function xO(t){return t.data||{}}function MO(t){return t.resolve||{}}function NO(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function jI(t){return bs(e=>{const n=t(e);return n?pt(n).pipe(pe(()=>e)):Z(e)})}class vee extends class _ee{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const $I=new Y("ROUTES");class RO{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new LI(zP(o.injector.get($I,void 0,H.Self|H.Optional)).map(UI),o)}),Ni(s=>{throw n._loader$=void 0,s}));return n._loader$=new NX(i,()=>new Lr).pipe(LP()),n._loader$}loadModuleFactory(e){return Rr(e()).pipe(ft(n=>n instanceof Zx?Z(n):pt(this.compiler.compileModuleAsync(n))))}}class Eee{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Iee(t){throw t}function bee(t,e,n){return e.parse("/")}function kO(t,e){return Z(null)}const Dee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Lr,this.errorHandler=Iee,this.malformedUriErrorHandler=bee,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kO,afterPreactivation:kO},this.urlHandlingStrategy=new Eee,this.routeReuseStrategy=new vee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Kr),this.console=o.get(FM);const d=o.get($e);this.isNgZoneEnabled=d instanceof $e&&$e.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function JX(){return new Ds(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new RO(o,a,h=>this.triggerEvent(new $P(h)),h=>this.triggerEvent(new HP(h))),this.routerState=aO(this.currentUrlTree,this.rootComponentType),this.transitions=new ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ua(i=>0!==i.id),pe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),bs(i=>{let s=!1,o=!1;return Z(i).pipe(mn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bs(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return PO(a.source)&&(this.browserUrlTree=a.extractedUrl),Z(a).pipe(bs(d=>{const h=this.transitions.getValue();return r.next(new TI(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Ur:Promise.resolve(d)}),function WZ(t,e,n,r){return bs(i=>function HZ(t,e,n,r,i){return new GZ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(pe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),mn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function hee(t,e,n,r,i){return ft(s=>function aee(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new uee(t,e,n,r,i,s).recognize();return null===o?CO(new oee):Z(o)}catch(o){return CO(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(pe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),mn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new VX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,E=new TI(h,this.serializeUrl(f),p,m);r.next(E);const y=aO(f,this.rootComponentType).snapshot;return Z(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ur}),jI(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),mn(a=>{const u=new UX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),pe(a=>Object.assign(Object.assign({},a),{guards:zZ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function XZ(t,e){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Z(Object.assign(Object.assign({},n),{guardsResult:!0})):function ZZ(t,e,n,r){return pt(t).pipe(ft(i=>function see(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Z(s.map(a=>{const u=hf(a,e,i);let c;if(function RZ(t){return t&&Ri(t.canDeactivate)}(u))c=Rr(u.canDeactivate(t,e,n,r));else{if(!Ri(u))throw new Error("Invalid CanDeactivate guard");c=Rr(u(t,e,n,r))}return c.pipe(ca())})).pipe(Tc()):Z(!0)}(i.component,i.route,n,e,r)),ca(i=>!0!==i,!0))}(o,r,i,t).pipe(ft(a=>a&&function SZ(t){return"boolean"==typeof t}(a)?function eee(t,e,n,r){return pt(e).pipe(vc(i=>DI(function nee(t,e){return null!==t&&e&&e(new HX(t)),Z(!0)}(i.route.parent,r),function tee(t,e){return null!==t&&e&&e(new qX(t)),Z(!0)}(i.route,r),function iee(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function KZ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>FP(()=>Z(o.guards.map(u=>{const c=hf(u,o.node,n);let l;if(function NZ(t){return t&&Ri(t.canActivateChild)}(c))l=Rr(c.canActivateChild(r,t));else{if(!Ri(c))throw new Error("Invalid CanActivateChild guard");l=Rr(c(r,t))}return l.pipe(ca())})).pipe(Tc())));return Z(s).pipe(Tc())}(t,i.path,n),function ree(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Z(!0);const i=r.map(s=>FP(()=>{const o=hf(s,e,n);let a;if(function MZ(t){return t&&Ri(t.canActivate)}(o))a=Rr(o.canActivate(e,t));else{if(!Ri(o))throw new Error("Invalid CanActivate guard");a=Rr(o(e,t))}return a.pipe(ca())}));return Z(i).pipe(Tc())}(t,i.route,n))),ca(i=>!0!==i,!0))}(r,s,t,e):Z(a)),pe(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),mn(a=>{if(Ts(a.guardsResult)){const c=AI(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new BX(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ua(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),jI(a=>{if(a.guards.canActivateChecks.length)return Z(a).pipe(mn(u=>{const c=new jX(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),bs(u=>{let c=!1;return Z(u).pipe(function fee(t,e){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=0;return pt(i).pipe(vc(o=>function pee(t,e,n,r){return function gee(t,e,n,r){const i=NO(t);if(0===i.length)return Z({});const s={};return pt(i).pipe(ft(o=>function mee(t,e,n,r){const i=hf(t,e,r);return Rr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(mn(a=>{s[o]=a}))),CI(1),ft(()=>NO(s).length===i.length?Z(s):Ur))}(t._resolve,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),uO(t,n).resolve),null)))}(o.route,r,t,e)),mn(()=>s++),CI(1),ft(o=>s===i.length?Z(n):Ur))})}(this.paramsInheritanceStrategy,this.ngModule.injector),mn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),mn(u=>{const c=new $X(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),jI(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pe(a=>{const u=function gZ(t,e,n){const r=bc(t,e._root,n?n._root:void 0);return new oO(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),mn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>pe(r=>(new TZ(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),mn({next(){s=!0},complete(){s=!0}}),function FX(t){return At((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ni(a=>{if(o=!0,function KX(t){return t&&t[qP]}(a)){const u=Ts(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new jP(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||PO(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new LX(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Ur}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){yO(n),this.config=n.map(UI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function _Z(t,e,n,r,i){if(0===n.length)return PI(e.root,e.root,e.root,r,i);const s=function vZ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Mt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new hO(n,e,r)}(n);if(s.toRoot())return PI(e.root,e.root,new oe([],{}),r,i);const o=function wZ(t,e,n){if(t.isAbsolute)return new OI(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new OI(s,s===e.root,0)}const r=rf(t.commands[0])?0:1;return function EZ(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new OI(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?sf(o.segmentGroup,o.index,s.commands):fO(o.segmentGroup,o.index,s.commands);return PI(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ts(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function Tee(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Dee):!1===r?Object.assign({},Cee):r,Ts(n))return YP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return YP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new wc(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,m)=>{c=p,l=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new jP(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){wm()},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function PO(t){return"imperative"!==t}let ff=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Lr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:fa(this.skipLocationChange),replaceUrl:fa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fa(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(I(Gt),I(ha),ou("tabindex"),I(zr),I(Sn))},t.\u0275dir=B({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&yt("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Pn]}),t})(),pf=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Lr,this.subscription=n.events.subscribe(s=>{s instanceof wc&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:fa(this.skipLocationChange),replaceUrl:fa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fa(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(I(Gt),I(ha),I(zo))},t.\u0275dir=B({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&yt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Ir("target",r.target)("href",r.href,Dg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Pn]}),t})();function fa(t){return""===t||!!t}class OO{}class FO{preload(e,n){return Z(null)}}let LO=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new RO(i,r,u=>n.triggerEvent(new $P(u)),u=>n.triggerEvent(new HP(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ua(n=>n instanceof wc),vc(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Kr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return pt(i).pipe(Ka(),pe(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Z(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ft(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(Gt),F(LM),F(mt),F(OO))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),HI=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof TI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof wc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof GP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new GP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){wm()},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const As=new Y("ROUTER_CONFIGURATION"),VO=new Y("ROUTER_FORROOT_GUARD"),Mee=[my,{provide:eO,useClass:tO},{provide:Gt,useFactory:function Oee(t,e,n,r,i,s,o={},a,u){const c=new Gt(null,t,e,n,r,i,zP(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function Fee(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[eO,Ac,my,mt,LM,$I,As,[class wee{},new it],[class yee{},new it]]},Ac,{provide:ha,useFactory:function Lee(t){return t.routerState.root},deps:[Gt]},LO,FO,class xee{preload(e,n){return n().pipe(Ni(()=>Z(null)))}},{provide:As,useValue:{enableTracing:!1}}];function Nee(){return new $M("Router",Gt)}let UO=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[Mee,BO(n),{provide:VO,useFactory:Pee,deps:[[Gt,new it,new fu]]},{provide:As,useValue:r||{}},{provide:zo,useFactory:kee,deps:[us,[new ad(gy),new it],As]},{provide:HI,useFactory:Ree,deps:[Gt,U8,As]},{provide:OO,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:FO},{provide:$M,multi:!0,useFactory:Nee},[GI,{provide:ey,multi:!0,useFactory:Vee,deps:[GI]},{provide:jO,useFactory:Uee,deps:[GI]},{provide:OM,multi:!0,useExisting:jO}]]}}static forChild(n){return{ngModule:t,providers:[BO(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(VO,8),F(Gt,8))},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({}),t})();function Ree(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new HI(t,e,n)}function kee(t,e,n={}){return n.useHash?new v3(t,e):new uN(t,e)}function Pee(t){return"guarded"}function BO(t){return[{provide:tj,multi:!0,useValue:t},{provide:$I,multi:!0,useValue:t}]}let GI=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Lr}appInitializer(){return this.injector.get(m3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Gt),o=this.injector.get(As);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Z(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(As),i=this.injector.get(LO),s=this.injector.get(HI),o=this.injector.get(Gt),a=this.injector.get(uy);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(mt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function Vee(t){return t.appInitializer.bind(t)}function Uee(t){return t.bootstrapListener.bind(t)}const jO=new Y("Router Initializer");let jee=(()=>{class t{constructor(n,r){this.userService=n,this.router=r,this.formReg=new oa({email:new ar,password:new ar})}ngOnInit(){}onSubmit(){this.userService.register(this.formReg.value).then(n=>{console.log(n),this.router.navigate(["/login"])}).catch(n=>console.log(n))}}return t.\u0275fac=function(n){return new(n||t)(I(Fh),I(Gt))},t.\u0275cmp=$r({type:t,selectors:[["app-register"]],decls:12,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","value","Enviar"]],template:function(n,r){1&n&&(fe(0,"h2"),ke(1,"Registro de usuario"),J(),fe(2,"form",0),yt("ngSubmit",function(){return r.onSubmit()}),fe(3,"div",1)(4,"label",2),ke(5,"Email"),J(),Ke(6,"input",3),J(),fe(7,"div",1)(8,"label",2),ke(9,"Password"),J(),Ke(10,"input",4),J(),Ke(11,"input",5),J()),2&n&&(vr(2),is("formGroup",r.formReg))},directives:[Kh,Bh,aa,ia,Uh,_c],styles:[""]}),t})();var R,$ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ui={},qI=qI||{},G=$ee||self;function gf(){}function WI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Nc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var zI="closure_uid_"+(1e9*Math.random()>>>0),Gee=0;function qee(t,e,n){return t.call.apply(t.bind,arguments)}function Wee(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return(Nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qee:Wee).apply(null,arguments)}function mf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ki(){this.s=this.s,this.o=this.o}var Kee={};ki.prototype.s=!1,ki.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function Hee(t){return Object.prototype.hasOwnProperty.call(t,zI)&&t[zI]||(t[zI]=++Gee)}(this);delete Kee[t]}},ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $O=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},HO=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function GO(t){return Array.prototype.concat.apply([],arguments)}function KI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yf(t){return/^[\s\xa0]*$/.test(t)}var un,qO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function an(t,e){return-1!=t.indexOf(e)}function QI(t,e){return t<e?-1:t>e?1:0}e:{var WO=G.navigator;if(WO){var zO=WO.userAgent;if(zO){un=zO;break e}}un=""}function YI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function KO(t){const e={};for(const n in t)e[n]=t[n];return e}var QO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<QO.length;s++)n=QO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function JI(t){return JI[" "](t),t}JI[" "]=gf;var _f,t,Jee=an(un,"Opera"),pa=an(un,"Trident")||an(un,"MSIE"),JO=an(un,"Edge"),XI=JO||pa,XO=an(un,"Gecko")&&!(an(un.toLowerCase(),"webkit")&&!an(un,"Edge"))&&!(an(un,"Trident")||an(un,"MSIE"))&&!an(un,"Edge"),Xee=an(un.toLowerCase(),"webkit")&&!an(un,"Edge");function ZO(){var t=G.document;return t?t.documentMode:void 0}e:{var ZI="",eb=(t=un,XO?/rv:([^\);]+)(\)|;)/.exec(t):JO?/Edge\/([\d\.]+)/.exec(t):pa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Xee?/WebKit\/(\S+)/.exec(t):Jee?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(eb&&(ZI=eb?eb[1]:""),pa){var tb=ZO();if(null!=tb&&tb>parseFloat(ZI)){_f=String(tb);break e}}_f=ZI}var Zee={};var tte=G.document&&pa&&(ZO()||parseInt(_f,10))||void 0,nte=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{G.addEventListener("test",gf,e),G.removeEventListener("test",gf,e)}catch(n){}return t}();function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Rc(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XO){e:{try{JI(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:rte[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Rc.Z.h.call(this)}}qt.prototype.h=function(){this.defaultPrevented=!0},Rt(Rc,qt);var rte={2:"touch",3:"pen",4:"mouse"};Rc.prototype.h=function(){Rc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kc="closure_listenable_"+(1e6*Math.random()|0),ite=0;function ste(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ite,this.ca=this.fa=!1}function vf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function wf(t){this.src=t,this.g={},this.h=0}function rb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=$O(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ib(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}wf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=ib(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new ste(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var sb="closure_lm_"+(1e6*Math.random()|0),ob={};function tF(t,e,n,r,i){if(r&&r.once)return rF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tF(t,e[s],n,r,i);return null}return n=lb(n),t&&t[kc]?t.N(e,n,Nc(r)?!!r.capture:!!r,i):nF(t,e,n,!1,r,i)}function nF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nc(i)?!!i.capture:!!i,a=ub(t);if(a||(t[sb]=a=new wf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function ote(){var e=ate;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nte||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function rF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)rF(t,e[s],n,r,i);return null}return n=lb(n),t&&t[kc]?t.O(e,n,Nc(r)?!!r.capture:!!r,i):nF(t,e,n,!0,r,i)}function iF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)iF(t,e[s],n,r,i);else r=Nc(r)?!!r.capture:!!r,n=lb(n),t&&t[kc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=ib(s=t.g[e],n,r,i))&&(vf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ub(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ib(e,n,r,i)),(n=-1<t?e[t]:null)&&ab(n))}function ab(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[kc])rb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ub(e))?(rb(n,t),0==n.h&&(n.src=null,e[sb]=null)):vf(t)}}}function sF(t){return t in ob?ob[t]:ob[t]="on"+t}function ate(t,e){if(t.ca)t=!0;else{e=new Rc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&ab(t),t=n.call(r,e)}return t}function ub(t){return(t=t[sb])instanceof wf?t:null}var cb="__closure_events_fn_"+(1e9*Math.random()>>>0);function lb(t){return"function"==typeof t?t:(t[cb]||(t[cb]=function(e){return t.handleEvent(e)}),t[cb])}function Et(){ki.call(this),this.i=new wf(this),this.P=this,this.I=null}function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;YO(e=new qt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ef(o,r,!0,e)&&i}if(i=Ef(o=e.g=t,r,!0,e)&&i,i=Ef(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ef(o=e.g=n[s],r,!1,e)&&i}function Ef(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&rb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(Et,ki),Et.prototype[kc]=!0,Et.prototype.removeEventListener=function(t,e,n,r){iF(this,t,e,n,r)},Et.prototype.M=function(){if(Et.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vf(n[r]);delete t.g[e],t.h--}}this.I=null},Et.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var db=G.JSON.stringify;function ute(){var t=aF;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var fb,oF=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new lte,t=>t.reset());class lte{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dte(t){G.setTimeout(()=>{throw t},0)}function hb(t,e){fb||function hte(){var t=G.Promise.resolve(void 0);fb=function(){t.then(fte)}}(),pb||(fb(),pb=!0),aF.add(t,e)}var pb=!1,aF=new class cte{constructor(){this.h=this.g=null}add(e,n){const r=oF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function fte(){for(var t;t=ute();){try{t.h.call(t.g)}catch(n){dte(n)}var e=oF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pb=!1}function If(t,e){Et.call(this),this.h=t||1,this.g=e||G,this.j=Nt(this.kb,this),this.l=Date.now()}function gb(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function mb(t,e,n){if("function"==typeof t)n&&(t=Nt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Nt(t.handleEvent,t)}return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function uF(t){t.g=mb(()=>{t.g=null,t.i&&(t.i=!1,uF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rt(If,Et),(R=If.prototype).da=!1,R.S=null,R.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(gb(this),this.start()))}},R.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.M=function(){If.Z.M.call(this),gb(this),delete this.g};class pte extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uF(this)}M(){super.M(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pc(t){ki.call(this),this.h=t,this.g={}}Rt(Pc,ki);var cF=[];function lF(t,e,n,r){Array.isArray(n)||(n&&(cF[0]=n.toString()),n=cF);for(var i=0;i<n.length;i++){var s=tF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dF(t){YI(t.g,function(e,n){this.g.hasOwnProperty(n)&&ab(e)},t),t.g={}}function bf(){this.g=!0}function ga(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _te(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return db(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Pc.prototype.M=function(){Pc.Z.M.call(this),dF(this)},Pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bf.prototype.Aa=function(){this.g=!1},bf.prototype.info=function(){};var Ss={},hF=null;function Df(){return hF=hF||new Et}function fF(t){qt.call(this,Ss.Ma,t)}function Oc(t){const e=Df();kt(e,new fF(e,t))}function pF(t,e){qt.call(this,Ss.STAT_EVENT,t),this.stat=e}function cn(t){const e=Df();kt(e,new pF(e,t))}function gF(t,e){qt.call(this,Ss.Na,t),this.size=e}function Fc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}Ss.Ma="serverreachability",Rt(fF,qt),Ss.STAT_EVENT="statevent",Rt(pF,qt),Ss.Na="timingevent",Rt(gF,qt);var Cf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yb(){}function _F(){}yb.prototype.h=null;var wb,Lc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _b(){qt.call(this,"d")}function vb(){qt.call(this,"c")}function Tf(){}function Vc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Pc(this),this.P=vte,this.W=new If(t=XI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new vF}function vF(){this.i=null,this.g="",this.h=!1}Rt(_b,qt),Rt(vb,qt),Rt(Tf,yb),Tf.prototype.g=function(){return new XMLHttpRequest},Tf.prototype.i=function(){return{}},wb=new Tf;var vte=45e3,Eb={},Af={};function Ib(t,e,n){t.K=1,t.v=Rf(ci(e)),t.s=n,t.U=!0,wF(t,null)}function wF(t,e){t.F=Date.now(),Uc(t),t.A=ci(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),xF(n.h,"t",r),t.C=0,n=t.l.H,t.h=new vF,t.g=XF(t.l,n?e:null,!t.s),0<t.O&&(t.L=new pte(Nt(t.Ia,t,t.g),t.O)),lF(t.V,t.g,"readystatechange",t.gb),e=t.H?KO(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Oc(1),function gte(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function EF(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function IF(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=wte(t,n),i==Af){4==e&&(t.o=4,cn(14),r=!1),ga(t.j,t.m,null,"[Incomplete Response]");break}if(i==Eb){t.o=4,cn(15),ga(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ga(t.j,t.m,i,null),bb(t,i)}EF(t)&&i!=Af&&i!=Eb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,cn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pb(e),e.L=!0,cn(11))):(ga(t.j,t.m,n,"[Invalid Chunked Response]"),xs(t),Bc(t))}function wte(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Af:(n=Number(e.substring(n,r)),isNaN(n)?Eb:(r+=1)+n>e.length?Af:(e=e.substr(r,n),t.C=r+n,e))}function Uc(t){t.Y=Date.now()+t.P,bF(t,t.P)}function bF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Fc(Nt(t.eb,t),e)}function Sf(t){t.B&&(G.clearTimeout(t.B),t.B=null)}function Bc(t){0==t.l.G||t.I||KF(t.l,t)}function xs(t){Sf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,gb(t.W),dF(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function bb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Tb(n.i,t)))if(n.I=t.N,!t.J&&Tb(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fc(Nt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Vf(n),Ff(n)}kb(n),cn(18)}if(1>=RF(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Rs(n,11)}else if((t.J||n.g==t)&&Vf(n),!yf(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(an(p,"spdy")||an(p,"quic")||an(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ab(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ne(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=JF(r,r.H?r.la:null,r.W),o.J){kF(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Sf(a),Uc(a)),r.g=o}else WF(r);0<n.l.length&&Lf(n)}else"stop"!=c[0]&&"close"!=c[0]||Rs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Rs(n,7):Nb(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Oc(4)}catch(c){}}function Db(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(WI(t)||"string"==typeof t)HO(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(WI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function Ete(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(WI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ma(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ma)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cb(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ms(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ms(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ms(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(R=Vc.prototype).setTimeout=function(t){this.P=t},R.gb=function(t){t=t.target;const e=this.L;e&&3==li(t)?e.l():this.Ia(t)},R.Ia=function(t){try{if(t==this.g)e:{const l=li(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||XI||this.g&&(this.h.h||this.g.ga()||jF(this.g)))){this.I||4!=l||7==e||Oc(8==e||0>=d?3:2),Sf(this);var n=this.g.ba();this.N=n;t:if(EF(this)){var r=jF(this.g);t="";var i=r.length,s=4==li(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xs(this),Bc(this);var o="";break t}this.h.i=new G.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function mte(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,cn(12),xs(this),Bc(this);break e}ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bb(this,n)}this.U?(IF(this,l,o),XI&&this.i&&3==l&&(lF(this.V,this.W,"tick",this.fb),this.W.start())):(ga(this.j,this.m,o,null),bb(this,o)),4==l&&xs(this),this.i&&!this.I&&(4==l?KF(this.l,this):(this.i=!1,Uc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),xs(this),Bc(this)}}}catch(l){}},R.fb=function(){if(this.g){var t=li(this.g),e=this.g.ga();this.C<e.length&&(Sf(this),IF(this,t,e),this.i&&4!=t&&Uc(this))}},R.cancel=function(){this.I=!0,xs(this)},R.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function yte(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Oc(3),cn(17)),xs(this),this.o=2,Bc(this)):bF(this,this.Y-t)},(R=ma.prototype).R=function(){Cb(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},R.T=function(){return Cb(this),this.g.concat()},R.get=function(t,e){return Ms(this.h,t)?this.h[t]:e},R.set=function(t,e){Ms(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},R.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var DF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ns(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ns){this.g=void 0!==e?e:t.g,xf(this,t.j),this.s=t.s,Mf(this,t.i),Nf(this,t.m),this.l=t.l,e=t.h;var n=new Hc;n.i=e.i,e.g&&(n.g=new ma(e.g),n.h=e.h),CF(this,n),this.o=t.o}else t&&(n=String(t).match(DF))?(this.g=!!e,xf(this,n[1]||"",!0),this.s=jc(n[2]||""),Mf(this,n[3]||"",!0),Nf(this,n[4]),this.l=jc(n[5]||"",!0),CF(this,n[6]||"",!0),this.o=jc(n[7]||"")):(this.g=!!e,this.h=new Hc(null,this.g))}function ci(t){return new Ns(t)}function xf(t,e,n){t.j=n?jc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mf(t,e,n){t.i=n?jc(e,!0):e}function Nf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CF(t,e,n){e instanceof Hc?(t.h=e,function Mte(t,e){e&&!t.j&&(Pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(AF(this,r),xF(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=$c(e,Ste)),t.h=new Hc(e,t.g))}function Ne(t,e,n){t.h.set(e,n)}function Rf(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $c(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Cte),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cte(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ns.prototype.toString=function(){var t=[],e=this.j;e&&t.push($c(e,TF,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push($c(e,TF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push($c(n,"/"==n.charAt(0)?Ate:Tte,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$c(n,xte)),t.join("")};var TF=/[#\/\?@]/g,Tte=/[#\?:]/g,Ate=/[#\?]/g,Ste=/[#\?@]/g,xte=/#/g;function Hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pi(t){t.g||(t.g=new ma,t.h=0,t.i&&function Ite(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function AF(t,e){Pi(t),e=ya(t,e),Ms(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ms((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Cb(t)))}function SF(t,e){return Pi(t),e=ya(t,e),Ms(t.g.h,e)}function xF(t,e,n){AF(t,e),0<n.length&&(t.i=null,t.g.set(ya(t,e),KI(n)),t.h+=n.length)}function ya(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MF(t){this.l=t||Rte,t=G.PerformanceNavigationTiming?0<(t=G.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(G.g&&G.g.Ea&&G.g.Ea()&&G.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=Hc.prototype).add=function(t,e){Pi(this),this.i=null,t=ya(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){Pi(this),this.g.forEach(function(n,r){HO(n,function(i){t.call(e,i,r,this)},this)},this)},R.T=function(){Pi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},R.R=function(t){Pi(this);var e=[];if("string"==typeof t)SF(this,t)&&(e=GO(e,this.g.get(ya(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=GO(e,t[n])}return e},R.set=function(t,e){return Pi(this),this.i=null,SF(this,t=ya(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Rte=10;function NF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function RF(t){return t.h?1:t.g?t.g.size:0}function Tb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ab(t,e){t.g?t.g.add(e):t.h=e}function kF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function PF(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return KI(t.i)}function Sb(){}function kte(){this.g=new Sb}function Pte(t,e,n){const r=n||"";try{Db(t,function(i,s){let o=i;Nc(i)&&(o=db(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Gc(t){this.l=t.$b||null,this.j=t.ib||!1}function Pf(t,e){Et.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=xb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}MF.prototype.cancel=function(){if(this.i=PF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Sb.prototype.stringify=function(t){return G.JSON.stringify(t,void 0)},Sb.prototype.parse=function(t){return G.JSON.parse(t,void 0)},Rt(Gc,yb),Gc.prototype.g=function(){return new Pf(this.l,this.j)},Gc.prototype.i=function(t){return function(){return t}}({}),Rt(Pf,Et);var xb=0;function OF(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function qc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wc(t)}function Wc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=Pf.prototype).open=function(t,e){if(this.readyState!=xb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wc(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||G).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qc(this)),this.readyState=xb},R.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wc(this)),this.g&&(this.readyState=3,Wc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==G.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OF(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},R.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qc(this):Wc(this),3==this.readyState&&OF(this)}},R.Ua=function(t){this.g&&(this.response=this.responseText=t,qc(this))},R.Ta=function(t){this.g&&(this.response=t,qc(this))},R.ha=function(){this.g&&qc(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Fte=G.JSON.parse;function Je(t){Et.call(this),this.headers=new ma,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=FF,this.K=this.L=!1}Rt(Je,Et);var FF="",Lte=/^https?$/i,Vte=["POST","PUT"];function Bte(t){return"content-type"==t.toLowerCase()}function LF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VF(t),Of(t)}function VF(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}function UF(t){if(t.h&&void 0!==qI&&(!t.C[1]||4!=li(t)||2!=t.ba()))if(t.v&&4==li(t))mb(t.Fa,0,t);else if(kt(t,"readystatechange"),4==li(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(DF)[1]||null;if(!i&&G.self&&G.self.location){var s=G.self.location.protocol;i=s.substr(0,s.length-1)}r=!Lte.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var o=2<li(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",VF(t)}}finally{Of(t)}}}function Of(t,e){if(t.g){BF(t);const n=t.g,r=t.C[0]?gf:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function BF(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}function li(t){return t.g?t.g.readyState:0}function jF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case FF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Mb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function jte(t){let e="";return YI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function zc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $F(t){this.za=0,this.l=[],this.h=new bf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zc("baseRetryDelayMs",5e3,t),this.$a=zc("retryDelaySeedMs",1e4,t),this.Ya=zc("forwardChannelMaxRetries",2,t),this.ra=zc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new MF(t&&t.concurrentRequestLimit),this.Ca=new kte,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Nb(t){if(HF(t),3==t.G){var e=t.V++,n=ci(t.F);Ne(n,"SID",t.J),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Kc(t,n),(e=new Vc(t,t.h,e,void 0)).K=2,e.v=Rf(ci(n)),n=!1,G.navigator&&G.navigator.sendBeacon&&(n=G.navigator.sendBeacon(e.v.toString(),"")),!n&&G.Image&&((new Image).src=e.v,n=!0),n||(e.g=XF(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Uc(e)}YF(t)}function Ff(t){t.g&&(Pb(t),t.g.cancel(),t.g=null)}function HF(t){Ff(t),t.u&&(G.clearTimeout(t.u),t.u=null),Vf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&G.clearTimeout(t.m),t.m=null)}function Rb(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Lf(t)}function Lf(t){NF(t.i)||t.m||(t.m=!0,hb(t.Ha,t),t.C=0)}function GF(t,e){var n;n=e?e.m:t.V++;const r=ci(t.F);Ne(r,"SID",t.J),Ne(r,"RID",n),Ne(r,"AID",t.U),Kc(t,r),t.o&&t.s&&Mb(r,t.o,t.s),n=new Vc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=qF(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ab(t.i,n),Ib(n,r,e)}function Kc(t,e){t.j&&Db({},function(n,r){Ne(e,r,n)})}function qF(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Nt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Pte(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function WF(t){t.g||t.u||(t.Y=1,hb(t.Ga,t),t.A=0)}function kb(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Fc(Nt(t.Ga,t),QF(t,t.A)),t.A++,0))}function Pb(t){null!=t.B&&(G.clearTimeout(t.B),t.B=null)}function zF(t){t.g=new Vc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ci(t.oa);Ne(e,"RID","rpc"),Ne(e,"SID",t.J),Ne(e,"CI",t.N?"0":"1"),Ne(e,"AID",t.U),Kc(t,e),Ne(e,"TYPE","xmlhttp"),t.o&&t.s&&Mb(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Rf(ci(e)),n.s=null,n.U=!0,wF(n,t)}function Vf(t){null!=t.v&&(G.clearTimeout(t.v),t.v=null)}function KF(t,e){var n=null;if(t.g==e){Vf(t),Pb(t),t.g=null;var r=2}else{if(!Tb(t.i,e))return;n=e.D,kF(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;kt(r=Df(),new gF(r,n,e,i)),Lf(t)}else WF(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function $te(t,e){return!(RF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Fc(Nt(t.Ha,t,e),QF(t,t.C)),t.C++,0)))}(t,e)||2==r&&kb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Rs(t,5);break;case 4:Rs(t,10);break;case 3:Rs(t,6);break;default:Rs(t,2)}}function QF(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Rs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Nt(t.jb,t);n||(n=new Ns("//www.google.com/images/cleardot.gif"),G.location&&"http"==G.location.protocol||xf(n,"https"),Rf(n)),function Ote(t,e){const n=new bf;if(G.Image){const r=new Image;r.onload=mf(kf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mf(kf,n,r,"TestLoadImage: error",!1,e),r.onabort=mf(kf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mf(kf,n,r,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else cn(2);t.G=0,t.j&&t.j.va(e),YF(t),HF(t)}function YF(t){t.G=0,t.I=-1,t.j&&((0!=PF(t.i).length||0!=t.l.length)&&(t.i.i.length=0,KI(t.l),t.l.length=0),t.j.ua())}function JF(t,e,n){let r=function bte(t){return t instanceof Ns?ci(t):new Ns(t,void 0)}(n);if(""!=r.i)e&&Mf(r,e+"."+r.i),Nf(r,r.m);else{const i=G.location;r=function Dte(t,e,n,r){var i=new Ns(null,void 0);return t&&xf(i,t),e&&Mf(i,e),n&&Nf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&YI(t.aa,function(i,s){Ne(r,s,i)}),n=t.sa,(e=t.D)&&n&&Ne(r,e,n),Ne(r,"VER",t.ma),Kc(t,r),r}function XF(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ba&&!t.qa?new Gc({ib:!0}):t.qa)).L=t.H,e}function ZF(){}function Uf(){if(pa&&!(10<=Number(tte)))throw Error("Environmental error: no available transport.")}function Mn(t,e){Et.call(this),this.g=new $F(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!yf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new _a(this)}function eL(t){_b.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function tL(){vb.call(this),this.status=1}function _a(t){this.g=t}(R=Je.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wb.g(),this.C=function yF(t){return t.h||(t.h=t.i())}(this.u?this.u:wb),this.g.onreadystatechange=Nt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void LF(this,s)}t=n||"";const i=new ma(this.headers);r&&Db(r,function(s,o){i.set(o,s)}),r=function Qee(t){e:{var e=Bte;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=G.FormData&&t instanceof G.FormData,!(0<=$O(Vte,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BF(this),0<this.B&&((this.K=function Ute(t){return pa&&function ete(){return function Yee(t){var e=Zee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=qO(String(_f)).split("."),n=qO("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=QI(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||QI(0==i[2].length,0==s[2].length)||QI(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.pa,this)):this.A=mb(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){LF(this,s)}},R.pa=function(){void 0!==qI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),Of(this))},R.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Of(this,!0)),Je.Z.M.call(this)},R.Fa=function(){this.s||(this.F||this.v||this.l?UF(this):this.cb())},R.cb=function(){UF(this)},R.ba=function(){try{return 2<li(this)?this.g.status:-1}catch(t){return-1}},R.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},R.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fte(e)}},R.Da=function(){return this.m},R.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=$F.prototype).ma=8,R.G=1,R.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},R.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Vc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=KO(s),YO(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qF(this,i,e),Ne(n=ci(this.F),"RID",t),Ne(n,"CVER",22),this.D&&Ne(n,"X-HTTP-Session-Id",this.D),Kc(this,n),this.o&&s&&Mb(n,this.o,s),Ab(this.i,i),this.Ra&&Ne(n,"TYPE","init"),this.ja?(Ne(n,"$req",e),Ne(n,"SID","null"),i.$=!0,Ib(i,n,null)):Ib(i,n,e),this.G=2}}else 3==this.G&&(t?GF(this,t):0==this.l.length||NF(this.i)||GF(this))},R.Ga=function(){if(this.u=null,zF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Fc(Nt(this.bb,this),t)}},R.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cn(10),Ff(this),zF(this))},R.ab=function(){null!=this.v&&(this.v=null,Ff(this),kb(this),cn(19))},R.jb=function(t){t?(this.h.info("Successfully pinged google.com"),cn(2)):(this.h.info("Failed to ping google.com"),cn(1))},(R=ZF.prototype).xa=function(){},R.wa=function(){},R.va=function(){},R.ua=function(){},R.Oa=function(){},Uf.prototype.g=function(t,e){return new Mn(t,e)},Rt(Mn,Et),Mn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),hb(Nt(t.hb,t,e))),cn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=JF(t,null,t.W),Lf(t)},Mn.prototype.close=function(){Nb(this.g)},Mn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Rb(this.g,e)}else this.v?((e={}).__data__=db(t),Rb(this.g,e)):Rb(this.g,t)},Mn.prototype.M=function(){this.g.j=null,delete this.j,Nb(this.g),delete this.g,Mn.Z.M.call(this)},Rt(eL,_b),Rt(tL,vb),Rt(_a,ZF),_a.prototype.xa=function(){kt(this.g,"a")},_a.prototype.wa=function(t){kt(this.g,new eL(t))},_a.prototype.va=function(t){kt(this.g,new tL(t))},_a.prototype.ua=function(){kt(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,mF.COMPLETE="complete",_F.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",Et.prototype.listen=Et.prototype.N,Je.prototype.listenOnce=Je.prototype.O,Je.prototype.getLastError=Je.prototype.La,Je.prototype.getLastErrorCode=Je.prototype.Da,Je.prototype.getStatus=Je.prototype.ba,Je.prototype.getResponseJson=Je.prototype.Qa,Je.prototype.getResponseText=Je.prototype.ga,Je.prototype.send=Je.prototype.ea;var Hte=ui.createWebChannelTransport=function(){return new Uf},Gte=ui.getStatEventTarget=function(){return Df()},Ob=ui.ErrorCode=Cf,qte=ui.EventType=mF,Wte=ui.Event=Ss,nL=ui.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zte=ui.FetchXmlHttpFactory=Gc,Bf=ui.WebChannel=_F,Kte=ui.XhrIo=Je;const rL="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let va="9.8.0";const Oi=new Ko("@firebase/firestore");function Fb(){return Oi.logLevel}function C(t,...e){if(Oi.logLevel<=ce.DEBUG){const n=e.map(Lb);Oi.debug(`Firestore (${va}): ${t}`,...n)}}function Xe(t,...e){if(Oi.logLevel<=ce.ERROR){const n=e.map(Lb);Oi.error(`Firestore (${va}): ${t}`,...n)}}function jf(t,...e){if(Oi.logLevel<=ce.WARN){const n=e.map(Lb);Oi.warn(`Firestore (${va}): ${t}`,...n)}}function Lb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function j(t,e){t||k()}function x(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class It{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class iL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class Jte{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new It;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new It,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new It)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new iL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Pt(e)}}class Xte{constructor(e,n,r){this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Zte{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Xte(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ene{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.p=n.token,new sL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Nn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function tne(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Nn.A=-1;class oL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function z(t,e){return t<e?-1:t>e?1:0}function wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?z(this.nanoseconds,e.nanoseconds):z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Ze(0,0))}static max(){return new V(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function uL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Qc{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Qc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends Qc{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}const nne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Qc{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return nne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}class Ea{constructor(e){this.fields=e,e.sort(bt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ct(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const rne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(j(!!t),"string"==typeof t){let e=0;const n=rne.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ps(t){return"string"==typeof t?ct.fromBase64String(t):ct.fromUint8Array(t)}function Vb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lL(t){const e=t.mapValue.fields.__previous_value__;return Vb(e)?lL(e):e}function Yc(t){const e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}class ine{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Li{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Li("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Li&&e.projectId===this.projectId&&e.database===this.database}}function Jc(t){return null==t}function Xc(t){return 0===t&&1/t==-1/0}class S{constructor(e){this.path=e}static fromPath(e){return new S(le.fromString(e))}static fromName(e){return new S(le.fromString(e).popFirst(5))}static empty(){return new S(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new le(e.slice()))}}const Vi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vb(t)?4:gL(t)?9007199254740991:10:k()}function kr(t,e){if(t===e)return!0;const n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fi(r.timestampValue),o=Fi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ps(t.bytesValue).isEqual(Ps(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Be(r.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(r.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Be(r.integerValue)===Be(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Be(r.doubleValue),o=Be(i.doubleValue);return s===o?Xc(s)===Xc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return wa(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(uL(s)!==uL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!kr(s[a],o[a])))return!1;return!0}(t,e);default:return k()}var i}function Zc(t,e){return void 0!==(t.values||[]).find(n=>kr(n,e))}function Ui(t,e){if(t===e)return 0;const n=Os(t),r=Os(e);if(n!==r)return z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Be(i.integerValue||i.doubleValue),a=Be(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return hL(t.timestampValue,e.timestampValue);case 4:return hL(Yc(t),Yc(e));case 5:return z(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ps(i),a=Ps(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=z(o[u],a[u]);if(0!==c)return c}return z(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=z(Be(i.latitude),Be(s.latitude));return 0!==o?o:z(Be(i.longitude),Be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ui(o[u],a[u]);if(c)return c}return z(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Vi_mapValue&&s===Vi_mapValue)return 0;if(i===Vi_mapValue)return 1;if(s===Vi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=z(a[l],c[l]);if(0!==d)return d;const h=Ui(o[a[l]],u[c[l]]);if(0!==h)return h}return z(a.length,c.length)}(t.mapValue,e.mapValue);default:throw k()}}function hL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return z(t,e);const n=Fi(t),r=Fi(e),i=z(n.seconds,r.seconds);return 0!==i?i:z(n.nanos,r.nanos)}function Ia(t){return Ub(t)}function Ub(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Fi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ps(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ub(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ub(r.fields[a])}`;return s+"}"}(t.mapValue):k();var e}function Bb(t){return!!t&&"integerValue"in t}function el(t){return!!t&&"arrayValue"in t}function fL(t){return!!t&&"nullValue"in t}function pL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=tl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(tl(this.value))}}function _L(t){const e=[];return ks(t.fields,(n,r)=>{const i=new bt([n]);if(Hf(r)){const s=_L(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ea(e)}class Te{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Te(e,0,V.min(),V.min(),Wt.empty(),0)}static newFoundDocument(e,n,r){return new Te(e,1,n,V.min(),r,0)}static newNoDocument(e,n){return new Te(e,2,n,V.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Te(e,3,n,V.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function ane(t){return new cr(t.readTime,t.key,-1)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(V.min(),S.empty(),-1)}static max(){return new cr(V.max(),S.empty(),-1)}}function wL(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:z(t.largestBatchId,e.largestBatchId))}class Ge{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Ot.RED,this.left=null!=i?i:Ot.EMPTY,this.right=null!=s?s:Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1,Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class De{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EL(this.data.getIterator())}getIteratorFrom(e){return new EL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class EL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class une{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function IL(t,e=null,n=[],r=[],i=null,s=null,o=null){return new une(t,e,n,r,i,s,o)}function Vs(t){const e=x(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ia(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Jc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),e.P=n}return e.P}function rl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!yne(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!kr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AL(t.startAt,e.startAt)&&AL(t.endAt,e.endAt)}function zf(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ft extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new lne(e,n,r):"array-contains"===n?new fne(e,r):"in"===n?new pne(e,r):"not-in"===n?new gne(e,r):"array-contains-any"===n?new mne(e,r):new Ft(e,n,r)}static V(e,n,r){return"in"===n?new dne(e,r):new hne(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Ui(n,this.value)):null!==n&&Os(this.value)===Os(n)&&this.v(Ui(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lne extends Ft{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.v(n)}}class dne extends Ft{constructor(e,n){super(e,"in",n),this.keys=CL(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hne extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=CL(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CL(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class fne extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return el(n)&&Zc(n.arrayValue,this.value)}}class pne extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Zc(this.value.arrayValue,n)}}class gne extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Zc(this.value.arrayValue,n)}}class mne extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!el(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}class Bi{constructor(e,n){this.position=e,this.inclusive=n}}class Da{constructor(e,n="asc"){this.field=e,this.dir=n}}function yne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function TL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):Ui(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function AL(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}class di{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function Ca(t){return new di(t)}function Ta(t){const e=x(t);if(null===e.D){e.D=[];const n=function Hb(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function $b(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new Da(n)),e.D.push(new Da(bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Da(bt.keyField(),s))}}}return e.D}function qn(t){const e=x(t);if(!e.C)if("F"===e.limitType)e.C=IL(e.path,e.collectionGroup,Ta(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ta(e))n.push(new Da(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Bi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bi(e.startAt.position,e.startAt.inclusive):null;e.C=IL(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function il(t,e){return rl(qn(t),qn(e))&&t.limitType===e.limitType}function ML(t){return`${Vs(qn(t))}|lt:${t.limitType}`}function qb(t){return`Query(target=${function cne(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ia(r.value)}`;var r}).join(", ")}]`),Jc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ia(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ia(n)).join(",")),`Target(${e})`}(qn(t))}; limitType=${t.limitType})`}function Wb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=TL(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ta(n),r)||n.endAt&&!function(i,s,o){const a=TL(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ta(n),r)));var n,r}function RL(t){return(e,n)=>{let r=!1;for(const i of Ta(t)){const s=vne(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function vne(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ui(a,u):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}function kL(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function PL(t){return{integerValue:""+t}}function OL(t,e){return function dL(t){return"number"==typeof t&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?PL(e):kL(t,e)}class Qf{constructor(){this._=void 0}}function wne(t,e,n){return t instanceof Aa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Us?LL(t,e):t instanceof Bs?VL(t,e):function(r,i){const s=FL(r,i),o=UL(s)+UL(r.k);return Bb(s)&&Bb(r.k)?PL(o):kL(r.M,o)}(t,e)}function Ene(t,e,n){return t instanceof Us?LL(t,e):t instanceof Bs?VL(t,e):n}function FL(t,e){return t instanceof Sa?Bb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Aa extends Qf{}class Us extends Qf{constructor(e){super(),this.elements=e}}function LL(t,e){const n=BL(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bs extends Qf{constructor(e){super(),this.elements=e}}function VL(t,e){let n=BL(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class Sa extends Qf{constructor(e,n){super(),this.M=e,this.k=n}}function UL(t){return Be(t.integerValue||t.doubleValue)}function BL(t){return el(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class bne{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Jf{}function Dne(t,e,n){t instanceof ol?function(r,i,s){const o=r.value.clone(),a=GL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof js?function(r,i,s){if(!Yf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=GL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(HL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function zb(t,e,n){var i;t instanceof ol?function(r,i,s){if(!Yf(r.precondition,i))return;const o=r.value.clone(),a=qL(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument($L(i),o).setHasLocalMutations()}(t,e,n):t instanceof js?function(r,i,s){if(!Yf(r.precondition,i))return;const o=qL(r.fieldTransforms,s,i),a=i.data;a.setAll(HL(r)),a.setAll(o),i.convertToFoundDocument($L(i),a).setHasLocalMutations()}(t,e,n):Yf(t.precondition,i=e)&&i.convertToNoDocument(V.min())}function Cne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FL(r.transform,i||null);null!=s&&(null==n&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function jL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&wa(n,r,(i,s)=>function Ine(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Us&&r instanceof Us||n instanceof Bs&&r instanceof Bs?wa(n.elements,r.elements,kr):n instanceof Sa&&r instanceof Sa?kr(n.k,r.k):n instanceof Aa&&r instanceof Aa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function $L(t){return t.isFoundDocument()?t.version:V.min()}class ol extends Jf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class js extends Jf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function HL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GL(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ene(o,a,n[i]))}return r}function qL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wne(s,o,e))}return r}class al extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Kb extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Tne{constructor(e){this.count=e}}var tt,de;function WL(t){switch(t){default:return k();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function zL(t){if(void 0===t)return Xe("GRPC error has no .code"),v.UNKNOWN;switch(t){case tt.OK:return v.OK;case tt.CANCELLED:return v.CANCELLED;case tt.UNKNOWN:return v.UNKNOWN;case tt.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case tt.INTERNAL:return v.INTERNAL;case tt.UNAVAILABLE:return v.UNAVAILABLE;case tt.UNAUTHENTICATED:return v.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case tt.NOT_FOUND:return v.NOT_FOUND;case tt.ALREADY_EXISTS:return v.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return v.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case tt.ABORTED:return v.ABORTED;case tt.OUT_OF_RANGE:return v.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return v.UNIMPLEMENTED;case tt.DATA_LOSS:return v.DATA_LOSS;default:return k()}}(de=tt||(tt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cL(this.inner)}size(){return this.innerSize}}const Ane=new Ge(S.comparator);function Wn(){return Ane}const Sne=new Ge(S.comparator);function Qb(...t){let e=Sne;for(const n of t)e=e.insert(n.key,n);return e}function ul(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const xne=new Ge(S.comparator),Mne=new De(S.comparator);function ge(...t){let e=Mne;for(const n of t)e=e.add(n);return e}const Nne=new De(z);function Xf(){return Nne}class cl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n)),new cl(V.min(),r,Xf(),Wn(),ge())}}class ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ll(ct.EMPTY_BYTE_STRING,n,ge(),ge(),ge())}}class Zf{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class KL{constructor(e,n){this.targetId=e,this.$=n}}class QL{constructor(e,n,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YL{constructor(){this.B=0,this.L=XL(),this.U=ct.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ge(),n=ge(),r=ge();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new ll(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=XL()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Rne{constructor(e){this.nt=e,this.st=new Map,this.it=Wn(),this.rt=JL(),this.ot=new De(z)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(zf(s))if(0===r){const o=new S(s.path);this.ct(n,o,Te.newNoDocument(o,V.min()))}else j(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&zf(a.target)){const u=new S(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,Te.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=ge();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new cl(e,n,this.ot,this.it,r);return this.it=Wn(),this.rt=JL(),this.ot=new De(z),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new YL,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new De(z),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new YL),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function JL(){return new Ge(S.comparator)}function XL(){return new Ge(S.comparator)}const kne={asc:"ASCENDING",desc:"DESCENDING"},Pne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class One{constructor(e,n){this.databaseId=e,this.N=n}}function dl(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZL(t,e){return t.N?e.toBase64():e.toUint8Array()}function Fne(t,e){return dl(t,e.toTimestamp())}function Dt(t){return j(!!t),V.fromTimestamp(function(e){const n=Fi(e);return new Ze(n.seconds,n.nanos)}(t))}function Yb(t,e){return(n=t,new le(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function eV(t){const e=le.fromString(t);return j(cV(e)),e}function hl(t,e){return Yb(t.databaseId,e.path)}function Pr(t,e){const n=eV(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(nV(n))}function Jb(t,e){return Yb(t.databaseId,e)}function fl(t){return new le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nV(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rV(t,e,n){return{name:hl(t,e),fields:n.value.mapValue.fields}}function sV(t,e){return{documents:[Jb(t,e.path)]}}function oV(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Jb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(pL(d.value))return{unaryFilter:{field:xa(d.field),op:"IS_NAN"}};if(fL(d.value))return{unaryFilter:{field:xa(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(pL(d.value))return{unaryFilter:{field:xa(d.field),op:"IS_NOT_NAN"}};if(fL(d.value))return{unaryFilter:{field:xa(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(d.field),op:$ne(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:xa((l=c).field),direction:jne(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.N||Jc(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function aV(t){let e=function tV(t){const e=eV(t);return 4===e.length?le.emptyPath():nV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=uV(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Da(Ma((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Jc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Bi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Bi(l.values||[],!l.before)}(n.endAt)),function SL(t,e,n,r,i,s,o,a){return new di(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function uV(t){return t?void 0!==t.unaryFilter?[Gne(t)]:void 0!==t.fieldFilter?[Hne(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>uV(e)).reduce((e,n)=>e.concat(n)):k():[]}function jne(t){return kne[t]}function $ne(t){return Pne[t]}function xa(t){return{fieldPath:t.canonicalString()}}function Ma(t){return bt.fromServerFormat(t.fieldPath)}function Hne(t){return Ft.create(Ma(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gne(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ma(t.unaryFilter.field);return Ft.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ma(t.unaryFilter.field);return Ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ma(t.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ma(t.unaryFilter.field);return Ft.create(i,"!=",{nullValue:"NULL_VALUE"});default:return k()}}function qne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const gV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function $s(t){return"IndexedDbTransactionError"===t.name}class eD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Dne(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&zb(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&zb(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(n,r)=>jL(n,r))&&wa(this.baseMutations,e.baseMutations,(n,r)=>jL(n,r))}}class tD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=xne;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tD(e,n,r,i)}}class nD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $i{constructor(e,n,r,i,s=V.min(),o=V.min(),a=ct.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class _V{constructor(e){this.Jt=e}}function rD(t){const e=aV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function xL(t,e,n){return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Ws{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Be(e.integerValue));else if("doubleValue"in e){const r=Be(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),Xc(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Ps(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?gL(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):k()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),S.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}Ws.fe=new Ws;class wre{constructor(){this.qe=new oD}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(cr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class oD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(le.comparator)).toArray()}}new Uint8Array(0);class vn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Qs{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Qs(0)}static yn(){return new Qs(-1)}}function Ys(t){return uD.apply(this,arguments)}function uD(){return uD=g(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==gV)throw t;C("LocalStore","Unexpectedly lost primary lease")}),uD.apply(this,arguments)}class Nre{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function Gb(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new S(n)).next(r=>{let i=Qb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=Qb();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.zs(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let c=i.get(u);null==c&&(c=Te.newInvalidDocument(u),i=i.insert(u,c)),zb(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{Wb(n,o)||(i=i.remove(s))}),i))}}class hD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hD(e,n.fromCache,r,i)}}class LV{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return w.resolve(null)}ei(e,n,r,i){return function _ne(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(V.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(Fb()<=ce.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qb(n)),this.ri(e,o,n,function vL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Ze(n+1,0):new Ze(n,r));return new cr(i,S.empty(),e)}(i,-1)))})}si(e,n){let r=new De(RL(e));return n.forEach((i,s)=>{Wb(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return Fb()<=ce.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",qb(n)),this.Zs.Qs(e,n,cr.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Rre{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new Ge(z),this.ai=new ji(s=>Vs(s),rl),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Nre(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function UV(t,e){return fD.apply(this,arguments)}function fD(){return fD=g(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ge();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.fi.Ks(r,u).next(c=>({di:c,removedBatchIds:o,addedBatchIds:a}))})})}),fD.apply(this,arguments)}function kre(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);j(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function BV(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Pre(t,e){const n=x(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.fs.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.fs.addMatchingKeys(s,c.addedDocuments,l)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(l)?h=h.withResumeToken(ct.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(l,h),p=h,m=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=Wn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function jV(t,e,n){let r=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Wn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(V.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):C("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(c=>{u=c})),!r.isEqual(V.min())){const c=n.fs.getLastRemoteSnapshotVersion(s).next(l=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,u)).next(()=>u)}).then(s=>(n.ui=i,s))}function Ore(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Pa(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new $i(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}function Oa(t,e,n){return pD.apply(this,arguments)}function pD(){return pD=g(function*(t,e,n){const r=x(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!$s(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),pD.apply(this,arguments)}function cp(t,e,n){const r=x(t);let i=V.min(),s=ge();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.ai.get(c);return void 0!==d?w.resolve(l.ui.get(d)):l.fs.getTargetData(u,c)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.oi.Qs(o,e,n?i:V.min(),n?s:ge())).next(a=>(function GV(t,e,n){let r=V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}(r,function NL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,_i:s})))}class Vre{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return w.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:Dt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(r=n).name,query:rD(r.bundledQuery),readTime:Dt(r.readTime)}),w.resolve();var r}}class Ure{constructor(){this.overlays=new Ge(S.comparator),this.Ii=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=ul(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ul(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ul(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nD(n,r));let s=this.Ii.get(n);void 0===s&&(s=ge(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}class yD{constructor(){this.Ti=new De(Tt.Ei),this.Ai=new De(Tt.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new Tt(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new S(new le([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new S(new le([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=ge();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.Ti.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return S.comparator(e.key,n.key)||z(e.Ci,n.Ci)}static Ri(e,n){return z(e.Ci,n.Ci)||S.comparator(e.key,n.key)}}class Bre{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new De(Tt.Ei)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++;const o=new eD(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Mi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(z);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),w.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new S(s),0);let a=new De(z);return this.Ni.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Ci)),!0)},o),w.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let r=this.Ni;return w.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Ni.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class jre{constructor(e){this.$i=e,this.docs=new Ge(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Wn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||wL(ane(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){k()}Bi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $re(this)}getSize(e){return w.resolve(this.size)}}class $re extends class Are{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class Hre{constructor(e){this.persistence=e,this.Li=new ji(n=>Vs(n),rl),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ui=0,this.qi=new yD,this.targetCount=0,this.Ki=Qs.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),w.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.qi.containsKey(n))}}class Gre{constructor(e,n){this.Gi={},this.overlays={},this.es=new Nn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Hre(this),this.indexManager=new wre,this.ds=new jre(r=>this.referenceDelegate.Qi(r)),this.M=new _V(n),this._s=new Vre(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ure,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new Bre(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new qre(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return w.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class qre extends class lre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class _D{constructor(e){this.persistence=e,this.Hi=new yD,this.Ji=null}static Yi(e){return new _D(e)}get Xi(){if(this.Ji)return this.Ji;throw k()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),w.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Xi,r=>{const i=S.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return w.or([()=>w.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class ED{constructor(){this.activeTargetIds=Xf()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zV{constructor(){this.Ur=new ED,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new ED,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Wre{Kr(e){}shutdown(){}}class KV{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Kre{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Qre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);C("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(C("RestConnection","Received: ",u),u),u=>{throw jf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+va,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.uo}/v1/${n}:${zre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Kte;a.listenOnce(qte.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ob.NO_ERROR:const c=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Ob.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case Ob.HTTP_ERROR:const l=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hte(),o=Gte(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new zte({})),this.lo(a.initMessageHeaders,n,r),jN()||$N()||function M4(){return _t().indexOf("Electron/")>=0}()||HN()||function N4(){return _t().indexOf("MSAppHost/")>=0}()||nh()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");C("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Kre({Jr:p=>{d?C("Connection","Not sending because WebChannel is closed:",p):(l||(C("Connection","Opening WebChannel transport."),c.open(),l=!0),C("Connection","WebChannel sending:",p),c.send(p))},Yr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,E=>{try{_(E)}catch(y){setTimeout(()=>{throw y},0)}})};return f(c,Bf.EventType.OPEN,()=>{d||C("Connection","WebChannel transport opened.")}),f(c,Bf.EventType.CLOSE,()=>{d||(d=!0,C("Connection","WebChannel transport closed"),h.ro())}),f(c,Bf.EventType.ERROR,p=>{d||(d=!0,jf("Connection","WebChannel transport errored:",p),h.ro(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(c,Bf.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];j(!!_);const E=_,y=E.error||(null===(m=E[0])||void 0===m?void 0:m.error);if(y){C("Connection","WebChannel received error:",y);const T=y.status;let P=function(te){const Ae=tt[te];if(void 0!==Ae)return zL(Ae)}(T),O=y.message;void 0===P&&(P=v.INTERNAL,O="Unknown error status: "+T+" with message "+y.message),d=!0,h.ro(new D(P,O)),c.close()}else C("Connection","WebChannel received:",_),h.oo(_)}}),f(o,Wte.STAT_EVENT,p=>{p.stat===nL.PROXY?C("Connection","Detected buffering proxy"):p.stat===nL.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function hp(){return"undefined"!=typeof document?document:null}function bl(t){return new One(t,!0)}class bD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class YV{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new bD(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return g(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return g(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro(g(function*(){e.state=0,e.start()}))}jo(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yre extends YV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function Vne(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:k(),i=e.targetChange.targetIds||[],s=function(u,c){return u.N?(j(void 0===c||"string"==typeof c),ct.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?v.UNKNOWN:zL(u.code);return new D(c,u.message||"")}(o);n=new QL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Pr(t,r.document.name),s=Dt(r.document.updateTime),o=new Wt({mapValue:{fields:r.document.fields}}),a=Te.newFoundDocument(i,s,o);n=new Zf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Pr(t,r.document),s=r.readTime?Dt(r.readTime):V.min(),o=Te.newNoDocument(i,s);n=new Zf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Pr(t,r.document);n=new Zf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,s=new Tne(r.count||0);n=new KL(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?Dt(s.readTime):V.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=fl(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=zf(a)?{documents:sV(i,a)}:{query:oV(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=ZL(i,s.resumeToken):s.snapshotVersion.compareTo(V.min())>0&&(o.readTime=dl(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function Bne(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return k()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=fl(this.M),n.removeTarget=e,this.Lo(n)}}class Jre extends YV{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function Une(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=Dt(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=Dt(i)),new bne(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Dt(e.commitTime);return this.listener.tu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=fl(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function pl(t,e){let n;if(e instanceof ol)n={update:rV(t,e.key,e.value)};else if(e instanceof al)n={delete:hl(t,e.key)};else if(e instanceof js)n={update:rV(t,e.key,e.data),updateMask:qne(e.fieldMask)};else{if(!(e instanceof Kb))return k();n={verify:hl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Us)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Bs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sa)return{fieldPath:s.field.canonicalString(),increment:o.k};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Fne(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:k()),n;var i}(this.M,r))};this.Lo(n)}}class Xre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class Zre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Xe(n),this.uu=!1):C("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class eie{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(a=>{r.enqueueAndForget(g(function*(){var u;qi(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=x(c);l.wu.add(4),yield Fa(l),l.yu.set("Unknown"),l.wu.delete(4),yield Dl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.yu=new Zre(r,i)}}function Dl(t){return DD.apply(this,arguments)}function DD(){return DD=g(function*(t){if(qi(t))for(const e of t.mu)yield e(!0)}),DD.apply(this,arguments)}function Fa(t){return CD.apply(this,arguments)}function CD(){return CD=g(function*(t){for(const e of t.mu)yield e(!1)}),CD.apply(this,arguments)}function fp(t,e){const n=x(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),SD(n)?AD(n):Va(n).Mo()&&TD(n,e))}function Cl(t,e){const n=x(t),r=Va(n);n._u.delete(e),r.Mo()&&JV(n,e),0===n._u.size&&(r.Mo()?r.$o():qi(n)&&n.yu.set("Unknown"))}function TD(t,e){t.pu.Z(e.targetId),Va(t).Ho(e)}function JV(t,e){t.pu.Z(e),Va(t).Jo(e)}function AD(t){t.pu=new Rne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),Va(t).start(),t.yu.au()}function SD(t){return qi(t)&&!Va(t).ko()&&t._u.size>0}function qi(t){return 0===x(t).wu.size}function XV(t){t.pu=void 0}function tie(t){return xD.apply(this,arguments)}function xD(){return xD=g(function*(t){t._u.forEach((e,n)=>{TD(t,e)})}),xD.apply(this,arguments)}function nie(t,e){return MD.apply(this,arguments)}function MD(){return MD=g(function*(t,e){XV(t),SD(t)?(t.yu.lu(e),AD(t)):t.yu.set("Unknown")}),MD.apply(this,arguments)}function rie(t,e,n){return ND.apply(this,arguments)}function ND(){return ND=g(function*(t,e,n){if(t.yu.set("Online"),e instanceof QL&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pp(t,r)}else if(e instanceof Zf?t.pu.ut(e):e instanceof KL?t.pu._t(e):t.pu.ht(e),!n.isEqual(V.min()))try{const r=yield BV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i._u.get(u);c&&i._u.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(ct.EMPTY_BYTE_STRING,u.snapshotVersion)),JV(i,a);const c=new $i(u.target,a,1,u.sequenceNumber);TD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield pp(t,r)}var r}),ND.apply(this,arguments)}function pp(t,e,n){return RD.apply(this,arguments)}function RD(){return RD=g(function*(t,e,n){if(!$s(e))throw e;t.wu.add(1),yield Fa(t),t.yu.set("Offline"),n||(n=()=>BV(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield Dl(t)}))}),RD.apply(this,arguments)}function ZV(t,e){return e().catch(n=>pp(t,n,e))}function La(t){return kD.apply(this,arguments)}function kD(){return kD=g(function*(t){const e=x(t),n=Wi(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;iie(e);)try{const i=yield Ore(e.localStore,r);if(null===i){0===e.du.length&&n.$o();break}r=i.batchId,sie(e,i)}catch(i){yield pp(e,i)}eU(e)&&tU(e)}),kD.apply(this,arguments)}function iie(t){return qi(t)&&t.du.length<10}function sie(t,e){t.du.push(e);const n=Wi(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function eU(t){return qi(t)&&!Wi(t).ko()&&t.du.length>0}function tU(t){Wi(t).start()}function oie(t){return PD.apply(this,arguments)}function PD(){return PD=g(function*(t){Wi(t).nu()}),PD.apply(this,arguments)}function aie(t){return OD.apply(this,arguments)}function OD(){return OD=g(function*(t){const e=Wi(t);for(const n of t.du)e.Zo(n.mutations)}),OD.apply(this,arguments)}function uie(t,e,n){return FD.apply(this,arguments)}function FD(){return FD=g(function*(t,e,n){const r=t.du.shift(),i=tD.from(r,e,n);yield ZV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield La(t)}),FD.apply(this,arguments)}function cie(t,e){return LD.apply(this,arguments)}function LD(){return LD=g(function*(t,e){var n;e&&Wi(t).Xo&&(yield(n=g(function*(r,i){if(WL(s=i.code)&&s!==v.ABORTED){const o=r.du.shift();Wi(r).Fo(),yield ZV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield La(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),eU(t)&&tU(t)}),LD.apply(this,arguments)}function nU(t,e){return VD.apply(this,arguments)}function VD(){return VD=g(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=qi(n);n.wu.add(3),yield Fa(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Dl(n)}),VD.apply(this,arguments)}function BD(){return BD=g(function*(t,e){const n=x(t);e?(n.wu.delete(2),yield Dl(n)):e||(n.wu.add(2),yield Fa(n),n.yu.set("Unknown"))}),BD.apply(this,arguments)}function Va(t){return t.Iu||(t.Iu=function(e,n,r){const i=x(e);return i.iu(),new Yre(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:tie.bind(null,t),eo:nie.bind(null,t),zo:rie.bind(null,t)}),t.mu.push(function(){var e=g(function*(n){n?(t.Iu.Fo(),SD(t)?AD(t):t.yu.set("Unknown")):(yield t.Iu.stop(),XV(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}function Wi(t){return t.Tu||(t.Tu=function(e,n,r){const i=x(e);return i.iu(),new Jre(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:oie.bind(null,t),eo:cie.bind(null,t),eu:aie.bind(null,t),tu:uie.bind(null,t)}),t.mu.push(function(){var e=g(function*(n){n?(t.Tu.Fo(),yield La(t)):(yield t.Tu.stop(),t.du.length>0&&(C("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class jD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new jD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ua(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),$s(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Ba{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=Qb(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Ba(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class rU{constructor(){this.Eu=new Ge(S.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):k():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ja{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ja(e,n,Ba.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class lie{constructor(){this.Ru=void 0,this.listeners=[]}}class die{constructor(){this.queries=new ji(e=>ML(e),il),this.onlineState="Unknown",this.bu=new Set}}function HD(){return HD=g(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lie),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Ua(o,`Initialization of query '${qb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&WD(n)}),HD.apply(this,arguments)}function qD(){return qD=g(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),qD.apply(this,arguments)}function hie(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&WD(n)}function fie(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function WD(t){t.bu.forEach(e=>{e.next()})}class zD{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class oU{constructor(e){this.key=e}}class aU{constructor(e){this.key=e}}class uU{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=ge(),this.mutatedKeys=ge(),this.Gu=RL(e),this.Qu=new Ba(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new rU,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Wb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new ja(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new rU,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ge(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new aU(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new oU(r))}),n}ta(e){this.Uu=e._i,this.Ku=ge();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return ja.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class mie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yie{constructor(e){this.key=e,this.na=!1}}class _ie{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new ji(a=>ML(a),il),this.ra=new Map,this.oa=new Set,this.ua=new Ge(S.comparator),this.aa=new Map,this.ca=new yD,this.ha={},this.la=new Map,this.fa=Qs.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function vie(t,e){return KD.apply(this,arguments)}function KD(){return KD=g(function*(t,e){const n=yC(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield Pa(n.localStore,qn(e));n.isPrimaryClient&&fp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield QD(n,e,r,"current"===a)}return i}),KD.apply(this,arguments)}function QD(t,e,n,r){return YD.apply(this,arguments)}function YD(){return YD=g(function*(t,e,n,r){t._a=(l,d,h)=>{return(f=g(function*(p,m,_,E){let y=m.view.Wu(_);y.ii&&(y=yield cp(p.localStore,m.query,!1).then(({documents:O})=>m.view.Wu(O,y)));const T=E&&E.targetChanges.get(m.targetId),P=m.view.applyChanges(y,p.isPrimaryClient,T);return oC(p,m.targetId,P.Xu),P.snapshot}),function(p,m,_,E){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield cp(t.localStore,e,!0),s=new uU(e,i._i),o=s.Wu(i.documents),a=ll.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);oC(t,n,u.Xu);const c=new mie(e,n,s);return t.ia.set(e,c),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),u.snapshot}),YD.apply(this,arguments)}function wie(t,e){return JD.apply(this,arguments)}function JD(){return JD=g(function*(t,e){const n=x(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!il(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Oa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Cl(n.remoteStore,r.targetId),$a(n,r.targetId)}).catch(Ys))):($a(n,r.targetId),yield Oa(n.localStore,r.targetId,!0))}),JD.apply(this,arguments)}function XD(){return XD=g(function*(t,e,n){const r=_C(t);try{const i=yield function(s,o){const a=x(s),u=Ze.now(),c=o.reduce((d,h)=>d.add(h.key),ge());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.fi.Ks(d,c).next(h=>{l=h;const f=[];for(const p of o){const m=Cne(p,l.get(p.key));null!=m&&f.push(new js(p.key,m,_L(m.value.mapValue),et.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ha[s.currentUser.toKey()];u||(u=new Ge(z)),u=u.insert(o,a),s.ha[s.currentUser.toKey()]=u}(r,i.batchId,n),yield hi(r,i.changes),yield La(r.remoteStore)}catch(i){const s=Ua(i,"Failed to persist write");n.reject(s)}}),XD.apply(this,arguments)}function cU(t,e){return ZD.apply(this,arguments)}function ZD(){return ZD=g(function*(t,e){const n=x(t);try{const r=yield Pre(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?j(o.na):i.removedDocuments.size>0&&(j(o.na),o.na=!1))}),yield hi(n,r,e)}catch(r){yield Ys(r)}}),ZD.apply(this,arguments)}function lU(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Pu(o)&&(u=!0)}),u&&WD(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Iie(t,e,n){return eC.apply(this,arguments)}function eC(){return eC=g(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new Ge(S.comparator);o=o.insert(s,Te.newNoDocument(s,V.min()));const a=ge().add(s),u=new cl(V.min(),new Map,new De(z),o,a);yield cU(r,u),r.ua=r.ua.remove(s),r.aa.delete(e),aC(r)}else yield Oa(r.localStore,e,!1).then(()=>$a(r,e,n)).catch(Ys)}),eC.apply(this,arguments)}function bie(t,e){return tC.apply(this,arguments)}function tC(){return tC=g(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield kre(n.localStore,e);sC(n,r,null),iC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield hi(n,i)}catch(i){yield Ys(i)}}),tC.apply(this,arguments)}function Die(t,e,n){return nC.apply(this,arguments)}function nC(){return nC=g(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.Bs.lookupMutationBatch(u,o).next(l=>(j(null!==l),c=l.keys(),a.Bs.removeMutationBatch(u,l))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.fi.Ks(u,c))})}(r.localStore,e);sC(r,e,n),iC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield hi(r,i)}catch(i){yield Ys(i)}}),nC.apply(this,arguments)}function iC(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function sC(t,e,n){const r=x(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function $a(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||dU(t,r)})}function dU(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);null!==n&&(Cl(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),aC(t))}function oC(t,e,n){for(const r of n)r instanceof oU?(t.ca.addReference(r.key,e),Tie(t,r)):r instanceof aU?(C("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||dU(t,r.key)):k()}function Tie(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(C("SyncEngine","New document in limbo: "+n),t.oa.add(r),aC(t))}function aC(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new S(le.fromString(e)),r=t.fa.next();t.aa.set(r,new yie(n)),t.ua=t.ua.insert(n,r),fp(t.remoteStore,new $i(qn(Ca(n.path)),r,2,Nn.A))}}function hi(t,e,n){return uC.apply(this,arguments)}function uC(){return uC=g(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.ia.isEmpty()||(r.ia.forEach((a,u)=>{o.push(r._a(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=hD.Ys(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sa.zo(i),yield(a=g(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Hs,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!$s(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.ui=l.ui.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),uC.apply(this,arguments)}function Aie(t,e){return cC.apply(this,arguments)}function cC(){return cC=g(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield UV(n.localStore,e);n.currentUser=e,(i=n).la.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hi(n,r.di)}var i}),cC.apply(this,arguments)}function Sie(t,e){const n=x(t),r=n.aa.get(e);if(r&&r.na)return ge().add(r.key);{let i=ge();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function yC(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iie.bind(null,e),e.sa.zo=hie.bind(null,e.eventManager),e.sa.wa=fie.bind(null,e.eventManager),e}function _C(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Die.bind(null,e),e}class Lie{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.M=bl(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return function VV(t,e,n,r){return new Rre(t,e,n,r)}(this.persistence,new LV,e.initialUser,this.M)}ya(e){return new Gre(_D.Yi,this.M)}ga(e){return new zV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vC{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>lU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Aie.bind(null,r.syncEngine),yield function UD(t,e){return BD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new die}createDatastore(e){const n=bl(e.databaseInfo.databaseId),r=new Qre(e.databaseInfo);return new Xre(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>lU(this.syncEngine,a,0),o=KV.vt()?new KV:new Wre,new eie(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new _ie(r,i,s,o,a,u);return c&&(l.da=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=x(n);C("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Fa(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hie{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=oL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ua(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function gU(t,e){return wC.apply(this,arguments)}function wC(){return wC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield UV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),wC.apply(this,arguments)}function mU(t,e){return EC.apply(this,arguments)}function EC(){return EC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield IC(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>nU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>nU(e.remoteStore,s)),t.onlineComponents=e}),EC.apply(this,arguments)}function IC(t){return bC.apply(this,arguments)}function bC(){return bC=g(function*(t){return t.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),yield gU(t,new Lie)),t.offlineComponents}),bC.apply(this,arguments)}function mp(t){return DC.apply(this,arguments)}function DC(){return DC=g(function*(t){return t.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),yield mU(t,new vC)),t.onlineComponents}),DC.apply(this,arguments)}function Ha(t){return AC.apply(this,arguments)}function AC(){return AC=g(function*(t){const e=yield mp(t),n=e.eventManager;return n.onListen=vie.bind(null,e.syncEngine),n.onUnlisten=wie.bind(null,e.syncEngine),n}),AC.apply(this,arguments)}const EU=new Map;function SC(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IU(t){if(!S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bU(t){if(S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}function he(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class CU{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Xie(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CU({}),this._settingsFrozen=!1,e instanceof Li?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Li(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Qte;switch(n.type){case"gapi":const r=n.client;return j(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Zte(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=EU.get(e);n&&(C("ComponentProvider","Removing Datastore"),EU.delete(e),n.terminate())}(this),Promise.resolve()}}class qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}}class zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zt(this.firestore,e,this._query)}}class Fr extends zt{constructor(e,n,r){super(e,n,Ca(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new S(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function Zie(t,e,...n){if(t=nn(t),SC("collection","path",e),t instanceof Tl){const r=le.fromString(e,...n);return bU(r),new Fr(t,null,r)}{if(!(t instanceof qe||t instanceof Fr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return bU(r),new Fr(t.firestore,null,r)}}function TU(t,e,...n){if(t=nn(t),1===arguments.length&&(e=oL.R()),SC("doc","path",e),t instanceof Tl){const r=le.fromString(e,...n);return IU(r),new qe(t,null,new S(r))}{if(!(t instanceof qe||t instanceof Fr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(le.fromString(e,...n));return IU(r),new qe(t.firestore,t instanceof Fr?t.converter:null,new S(r))}}class tse{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new bD(this,"async_queue_retry"),this.Qa=()=>{const n=hp();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=hp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=hp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new It;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return g(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!$s(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=jD.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&k()}verifyOperationInProgress(){}Ja(){var e=this;return g(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function xC(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Re extends Tl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new tse,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||AU(this),this._firestoreClient.terminate()}}function rse(t=n_()){return Qo(t,"firestore").getImmediate()}function lt(t){return t._firestoreClient||AU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AU(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ine(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Hie(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Ga{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(ct.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class MU{constructor(e){this._methodName=e}}class MC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return z(this._lat,e._lat)||z(this._long,e._long)}}const ise=/^__.*__$/;class sse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new ol(e,this.data,n,this.fieldTransforms)}}function RU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class _p{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return wp(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(RU(this.ec)&&ise.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class ose{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||bl(e)}lc(e,n,r,i=!1){return new _p({ec:e,methodName:n,hc:r,path:bt.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function qa(t){const e=t._freezeSettings(),n=bl(t._databaseId);return new ose(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NC(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);kC("Data must be an object, but it was:",o,r);const a=LU(r,o);let u,c;if(s.merge)u=new Ea(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=PC(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);UU(l,h)||l.push(h)}u=new Ea(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new sse(new Wt(a),u,c)}function Zs(t,e){if(VU(t=nn(t)))return kC("Unsupported field value:",e,t),LU(t,e);if(t instanceof MU)return function(n,r){if(!RU(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Zs(o,r.uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=nn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return OL(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ze.fromDate(n);return{timestampValue:dl(r.M,i)}}if(n instanceof Ze){const i=new Ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dl(r.M,i)}}if(n instanceof MC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xs)return{bytesValue:ZL(r.M,n._byteString)};if(n instanceof qe){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${yp(n)}`)}(t,e)}function LU(t,e){const n={};return cL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(r,i)=>{const s=Zs(i,e.sc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function VU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof MC||t instanceof Xs||t instanceof qe||t instanceof MU)}function kC(t,e,n){if(!VU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yp(n);throw e.ac("an object"===r?t+" a custom object":t+" "+r)}var r}function PC(t,e,n){if((e=nn(e))instanceof Ga)return e._internalPath;if("string"==typeof e)return vp(t,e);throw wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const lse=new RegExp("[~\\*/\\[\\]]");function vp(t,e,n){if(e.search(lse)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ga(...e.split("."))._internalPath}catch(r){throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function UU(t,e){return t.some(n=>n.isEqual(e))}class OC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ep("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class dse extends OC{data(){return super.data()}}function Ep(t,e){return"string"==typeof e?vp(t,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}class eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends OC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ep("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ip extends Wa{data(e={}){return super.data(e)}}class za{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ip(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ip(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ip(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:hse(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hse(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class to extends class mse{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){const r={};return ks(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new MC(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lL(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=le.fromString(e);j(cV(r));const i=new Li(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function _se(t){return Sl(he(t.firestore,Re),[new al(t._key,et.none())])}function vse(t,e){const n=he(t.firestore,Re),r=TU(t),i=function FC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Sl(n,[NC(qa(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function Sl(t,e){return function(n,r){const i=new It;return n.asyncQueue.enqueueAndForget(g(function*(){return function Eie(t,e,n){return XD.apply(this,arguments)}(yield function TC(t){return mp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(lt(t),e)}!function(t,e=!0){va="9.8.2",rn(new $t("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Re(i,new Jte(n.getProvider("auth-internal")),new ene(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Ue(rL,"3.4.9",t),Ue(rL,"3.4.9","esm2017")}();var Ise={includeMetadataChanges:!1};function VC(t,e){return void 0===e&&(e=Ise),new Se(function(n){var r=function wse(t,...e){var n,r,i;t=nn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||xC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(xC(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof qe)c=he(t.firestore,Re),l=Ca(t._key.path),u={next:d=>{e[o]&&e[o](function LC(t,e,n){const r=n.docs.get(e._key),i=new to(t);return new Wa(t,i,e._key,r,new eo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=he(t,zt);c=he(d.firestore,Re),l=d._query;const h=new to(c);u={next:f=>{e[o]&&e[o](new za(c,h,d,f))},error:e[o+1],complete:e[o+2]},function BU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new gp(p),_=new zD(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function $D(t,e){return HD.apply(this,arguments)}(yield Ha(d),_)})),()=>{m.Aa(),d.asyncQueue.enqueueAndForget(g(function*(){return function GD(t,e){return qD.apply(this,arguments)}(yield Ha(d),_)}))}}(lt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function xse(t,e){return void 0===e&&(e={}),function Sse(t){return VC(t,{includeMetadataChanges:!0}).pipe(pe(function(e){return e.docs}))}(t).pipe(pe(function(n){return n.map(function(r){return function QU(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Dp{constructor(e){return e}}const ZU="firestore",jC=new Y("angularfire2.firestore-instances");function Rse(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Dp(r)}}const kse={provide:class Mse{constructor(){return Bv(ZU)}},deps:[[new it,jC]]},Pse={provide:Dp,useFactory:function Nse(t,e){const n=Uv(ZU,t,e);return n&&new Dp(n)},deps:[[new it,jC],ta]};let Ose=(()=>{class t{constructor(){Ue("angularfire",ph.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({providers:[Pse,kse]}),t})();function Fse(t,...e){return{ngModule:Ose,providers:[{provide:jC,useFactory:Rse(t),multi:!0,deps:[$e,mt,jv,$v,[new it,T1],[new it,sw],...e]}]}}const Lse=$n(xse,!0),Vse=$n(vse,!0),e2=$n(Zie,!0),Use=$n(_se,!0),Bse=$n(TU,!0),jse=$n(rse,!0);let t2=(()=>{class t{constructor(n){this.firestore=n}addPlace(n){const r=e2(this.firestore,"places");return Vse(r,n)}getPlace(){const n=e2(this.firestore,"places");return Lse(n,{idField:"id"})}deletePlace(n){const r=Bse(this.firestore,`places/${n.id}`);return Use(r)}}return t.\u0275fac=function(n){return new(n||t)(F(Dp))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$se=(()=>{class t{constructor(n){this.placesService=n,this.formulario=new oa({name:new ar,latitude:new ar,longitude:new ar,description:new ar,image:new ar})}ngOnInit(){}onSubmit(){var n=this;return g(function*(){console.log(n.formulario.value);const r=yield n.placesService.addPlace(n.formulario.value);console.log(r)})()}}return t.\u0275fac=function(n){return new(n||t)(I(t2))},t.\u0275cmp=$r({type:t,selectors:[["app-clientes"]],decls:22,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","apellido",1,"form-control"],["type","text","formControlName","telefono",1,"form-control"],["type","text","formControlName","id",1,"form-control"],["type","text","formControlName","descripcion",1,"form-control"],["type","submit","value","Enviar",1,"btn","btn-info"]],template:function(n,r){1&n&&(fe(0,"form",0),yt("ngSubmit",function(){return r.onSubmit()}),fe(1,"div",1)(2,"label",2),ke(3,"Nombre"),J(),Ke(4,"input",3),J(),fe(5,"div",1)(6,"label",2),ke(7,"Apellido"),J(),Ke(8,"input",4),J(),fe(9,"div",1)(10,"label",2),ke(11,"Telefono"),J(),Ke(12,"input",5),J(),fe(13,"div",1)(14,"label",2),ke(15,"Id"),J(),Ke(16,"input",6),J(),fe(17,"div",1)(18,"label",2),ke(19,"Descripcion"),J(),Ke(20,"input",7),J(),Ke(21,"input",8),J()),2&n&&is("formGroup",r.formulario)},directives:[Kh,Bh,aa,ia,Uh,_c],styles:[""]}),t})();const Hse=function(t){return{backgroundImage:t}};function Gse(t,e){if(1&t){const n=function TS(){return b()}();fe(0,"div",2),Ke(1,"div",3),fe(2,"div",4)(3,"h4"),ke(4),J(),fe(5,"p"),ke(6),J(),fe(7,"p"),ke(8),J(),fe(9,"p"),ke(10),J(),fe(11,"p"),ke(12),J(),fe(13,"button",5),yt("click",function(){const s=function VT(t){return $.lFrame.contextLView=t,t[8]}(n).$implicit;return NS().onClickDelete(s)}),ke(14,"Borrar"),J()()()}if(2&t){const n=e.$implicit;vr(1),is("ngStyle",rM(6,Hse,"url("+n.descripcion+")")),vr(3),ss(n.name),vr(2),ss(n.apellido),vr(2),ss(n.telefono),vr(2),ss(n.id),vr(2),ss(n.descripcion)}}let qse=(()=>{class t{constructor(n){this.placeService=n,this.places=[{name:"Prueba de sitio",apellido:"Esto es una prueba",telefono:40,id2:-3,descripcion:"https://media.timeout.com/images/105718969/750/422/image.jpg"}]}ngOnInit(){this.placeService.getPlace().subscribe(n=>{this.places=n})}onClickDelete(n){var r=this;return g(function*(){const i=yield r.placeService.deletePlace(n);console.log(i)})()}}return t.\u0275fac=function(n){return new(n||t)(I(t2))},t.\u0275cmp=$r({type:t,selectors:[["app-listar"]],decls:2,vars:1,consts:[[1,"places"],["class","place",4,"ngFor","ngForOf"],[1,"place"],[1,"image",3,"ngStyle"],[1,"info"],[1,"btn","btn-outline-danger",3,"click"]],template:function(n,r){1&n&&(fe(0,"div",0),function pS(t,e,n,r,i,s,o,a){const u=b(),c=ue(),l=t+20,d=c.firstCreatePass?function cG(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Do(e,t,4,o||null,mi(c,a));tm(e,n,l,mi(c,u)),Ql(e,l);const d=l.tViews=vd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];gr(d,!1);const h=u[Q].createComment("");pd(c,u,h,d),Bt(h,u),wd(u,u[l]=PA(h,u,h,d)),Hl(d)&&Zg(c,u,d),null!=o&&em(u,d,a)}(1,Gse,15,8,"div",1),J()),2&n&&(vr(1),is("ngForOf",r.places))},directives:[_N,IN],styles:[".place[_ngcontent-%COMP%]{border:1px solid black;border-radius:20px;display:grid;grid-template-columns:1fr 3fr;overflow:hidden;margin-bottom:20px}.place[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:10px 20px}.place[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-size:cover;background-position:center}"]}),t})(),Wse=(()=>{class t{constructor(n,r){this.userService=n,this.router=r}ngOnInit(){}onClick(){this.userService.logout().then(()=>{this.router.navigate(["/register"])}).catch(n=>console.log(n))}}return t.\u0275fac=function(n){return new(n||t)(I(Fh),I(Gt))},t.\u0275cmp=$r({type:t,selectors:[["app-main"]],decls:9,vars:0,consts:[[3,"click"],[1,"form"],[1,"list"]],template:function(n,r){1&n&&(fe(0,"h2"),ke(1,"Sesion iniciada"),J(),fe(2,"button",0),yt("click",function(){return r.onClick()}),ke(3,"Logout"),J(),fe(4,"main")(5,"section",1),Ke(6,"app-clientes"),J(),fe(7,"section",2),Ke(8,"app-listar"),J()())},directives:[$se,qse],styles:["main[_ngcontent-%COMP%]{max-width:1000px;margin:20px auto;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;grid-gap:40px;gap:40px}"]}),t})(),zse=(()=>{class t{constructor(n){this.userService=n,this.formLogin=new oa({email:new ar,password:new ar})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(n=>{console.log(n)}).catch(n=>console.log(n))}}return t.\u0275fac=function(n){return new(n||t)(I(Fh))},t.\u0275cmp=$r({type:t,selectors:[["app-login"]],decls:12,vars:1,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["routerLink","/main","type","submit","value","Enviar"]],template:function(n,r){1&n&&(fe(0,"h2"),ke(1,"Login de usuario"),J(),fe(2,"form",0),yt("ngSubmit",function(){return r.onSubmit()}),fe(3,"div",1)(4,"label",2),ke(5,"Email"),J(),Ke(6,"input",3),J(),fe(7,"div",1)(8,"label",2),ke(9,"Password"),J(),Ke(10,"input",4),J(),Ke(11,"input",5),J()),2&n&&(vr(2),is("formGroup",r.formLogin))},directives:[Kh,Bh,aa,ia,Uh,_c,ff],styles:[""]}),t})();const $C=pe(t=>!!t);let Kse=(()=>{class t{constructor(n,r){this.router=n,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>$C);return A1(this.auth).pipe(Ya(1),o(i,s),pe(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return t.\u0275fac=function(n){return new(n||t)(F(Gt),F(fc))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();const Xse=[{path:"",redirectTo:"/register",pathMatch:"full"},Object.assign({path:"main",component:Wse},{canActivate:[Kse],data:{authGuardPipe:()=>(t=>function g2(...t){return eT(t)}($C,pe(e=>e||t)))(["/register"])}}),{path:"register",component:jee},{path:"login",component:zse},{path:"**",redirectTo:"/register"}];let Zse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t}),t.\u0275inj=Yt({imports:[[UO.forRoot(Xse)],UO]}),t})(),eoe=(()=>{class t{constructor(){this.title="firebase"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$r({type:t,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-6","offset-3"],["routerLink","/register"],["routerLink","/login"]],template:function(n,r){1&n&&(fe(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),ke(4,"Prueba firebase"),J(),fe(5,"a",3),ke(6,"Registrarse"),J(),Ke(7,"br"),fe(8,"a",4),ke(9,"Login"),J(),Ke(10,"router-outlet"),J()()())},directives:[pf,VI],styles:[""]}),t})();const n2_firebase={projectId:"primerproyectofirebase-591b4",appId:"1:215101936677:web:924c3d336dee2873169bcc",databaseURL:"https://primerproyectofirebase-591b4-default-rtdb.firebaseio.com",storageBucket:"primerproyectofirebase-591b4.appspot.com",locationId:"us-central",apiKey:"AIzaSyCbClItCVPbDyOiayToy7ysu3ErWiYki_w",authDomain:"primerproyectofirebase-591b4.firebaseapp.com",messagingSenderId:"215101936677",measurementId:"G-RZ56GY9RN3"};let toe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=dn({type:t,bootstrap:[eoe]}),t.\u0275inj=Yt({providers:[Fh],imports:[[f4,Zse,TX,AX,j5(()=>$5(n2_firebase)),_J(()=>wJ()),Fse(()=>jse())]]}),t})();(function Qz(){KM=!1})(),d4().bootstrapModule(toe).catch(t=>console.error(t))}},se=>{se(se.s=460)}]);